setTimeout(function(){function t(){this.setSettings=function(t){for(var e=0;24>e;e++)this[String.fromCharCode(97+e)]=t[e]||0;this.c<.01&&(this.c=.01);var r=this.b+this.c+this.e;if(.18>r){var a=.18/r;this.b*=a,this.c*=a,this.e*=a}}}function e(){this._params=new t;var e,r,a,o,f,n,i,c,v,l,d,b;this.reset=function(){var t=this._params;o=100/(t.f*t.f+.001),f=100/(t.g*t.g+.001),n=1-t.h*t.h*t.h*.01,i=-t.i*t.i*t.i*1e-6,t.a||(d=.5-t.n/2,b=5e-5*-t.o),c=1+t.l*t.l*(t.l>0?-.9:10),v=0,l=1==t.m?0:(1-t.m)*(1-t.m)*2e4+32},this.totalReset=function(){this.reset();var t=this._params;return e=t.b*t.b*1e5,r=t.c*t.c*1e5,a=t.e*t.e*1e5+12,3*((e+r+a)/3|0)},this.synthWave=function(t,m){var u=this._params,s=1!=u.s||u.v,h=u.v*u.v*.1,E=1+3e-4*u.w,x=u.s*u.s*u.s*.1,S=1+1e-4*u.t,A=1!=u.s,R=u.x*u.x,D=u.g,N=u.q||u.r,g=u.r*u.r*u.r*.2,T=u.q*u.q*(u.q<0?-1020:1020),C=u.p?((1-u.p)*(1-u.p)*2e4|0)+32:0,y=u.d,p=u.j/2,M=u.k*u.k*.01,U=u.a,w=e,W=1/e,L=1/r,_=1/a,z=5/(1+u.u*u.u*20)*(.01+x);z>.8&&(z=.8),z=1-z;for(var F,P,j,G,k,B,I=!1,O=0,X=0,H=0,Z=0,J=0,q=0,Y=0,V=0,K=0,Q=0,$=new Array(1024),te=new Array(32),ee=$.length;ee--;)$[ee]=0;for(var ee=te.length;ee--;)te[ee]=2*Math.random()-1;for(var ee=0;m>ee;ee++){if(I)return ee;if(C&&++K>=C&&(K=0,this.reset()),l&&++v>=l&&(l=0,o*=c),n+=i,o*=n,o>f&&(o=f,D>0&&(I=!0)),P=o,p>0&&(Q+=M,P*=1+Math.sin(Q)*p),P|=0,8>P&&(P=8),U||(d+=b,0>d?d=0:d>.5&&(d=.5)),++X>w)switch(X=0,++O){case 1:w=r;break;case 2:w=a}switch(O){case 0:H=X*W;break;case 1:H=1+2*(1-X*L)*y;break;case 2:H=1-X*_;break;case 3:H=0,I=!0}N&&(T+=g,j=0|T,0>j?j=-j:j>1023&&(j=1023)),s&&E&&(h*=E,1e-5>h?h=1e-5:h>.1&&(h=.1)),B=0;for(var re=8;re--;){if(Y++,Y>=P&&(Y%=P,3==U))for(var ae=te.length;ae--;)te[ae]=2*Math.random()-1;switch(U){case 0:k=d>Y/P?.5:-.5;break;case 1:k=1-Y/P*2;break;case 2:G=Y/P,G=6.28318531*(G>.5?G-1:G),k=1.27323954*G+.405284735*G*G*(0>G?1:-1),k=.225*((0>k?-1:1)*k*k-k)+k;break;case 3:k=te[Math.abs(32*Y/P|0)]}s&&(F=q,x*=S,0>x?x=0:x>.1&&(x=.1),A?(J+=(k-q)*x,J*=z):(q=k,J=0),q+=J,Z+=q-F,Z*=1-h,k=Z),N&&($[V%1024]=k,k+=$[(V-j+1024)%1024],V++),B+=k}B*=.125*H*R,t[ee]=B>=1?32767:-1>=B?-32768:32767*B|0}return m}}function r(t,e){if(!(0>=e)){var r=new Audio;r.src=t,r.volume=e||1,r.play()}}function a(t){return Math.pow(N(80,10,f(t,c(u()))),2)}function o(t){return t[~~(Math.random()*t.length)]}function f(t,e){var r=t[0]-e[0],a=t[1]-e[1];return Math.sqrt(r*r+a*a)}function n(t,e){for(var r=0;r<t.length;r+=4)e[r/4]=~~(.5+9*t[r]/256)}function i(t,e,r){return Math.max(t,Math.min(r,e))}function c(t){return[(ae[0]+t[0])/Re,(ae[1]+t[1])/Re]}function v(t){ae=[i(-re[0]/2,re[0]/2+Re*se[0]-re[0],t[0]),i(-re[1]/2,Re*se[1]-re[1]/2,t[1])]}function l(t){return[t.clientX*re[0]/ee[0],re[1]-t.clientY*re[1]/ee[1]]}function d(){camStart=oe=fe=ne=0,q.style.cursor=Y?"default":"pointer"}function b(t){var e=8*Re,r=re[1]/2-14*Re-e/2;if(r-5<t[1]&&t[1]<r+e+5){var a=8*Re+8,o=(re[0]-4*a)/2,f=~~((t[0]-o)/a);if(f>=0&&4>f)return f}return-1}function m(t){return f(u(),t)<8*Re}function u(){return[re[0]/2,re[1]/2]}function s(){var t=we[32];t&&!Y&&U(),Y&&!V&&(t&&(Te=1),we[87]||we[90]?Ce=0:we[88]?Ce=1:we[67]?Ce=2:we[86]&&(Ce=3),Te||!oe||fe||(Te=1),ie=c(u()))}function h(){var t=6,e=we[39]-we[37],r=we[38]-we[40],a=e+"_"+r;a!=Ue&&(Ue=a,We=Date.now()),De=[t*e,t*r]}function E(t){return 1==t||4==t||5==t}function x(t,e){var r=this;r.p=t,r.t=e||[],r.v=[0,0],r.T=r.dt=0}function S(t,e,r){var a=~~(t.p[0]-Ge)+e-Ae;if(0>a||a>=se[0])return 1;var o=~~(t.p[1]-ke)+r;return 0>o||o>=se[1]?1:Se[a+o*se[0]]}function A(t){function e(e){var r,a,o,f,n=[],i=[];for(a=Ge,o=ke;a>=0&&Pe>a;a+=e){for(o==je&&o--,-1==o&&o++;je>o&&E(S(t,a,o));)o++;if(je>o)for(;o>=0&&!E(S(t,a,o));)o--;i.push(o)}var c=0;for(f=0,a=Ge,r=1;a>=0&&Pe>a;a+=e,++f){var v,l,d,b=i[f],m=S(t,a,ke),u=[0,0,0,0,0,0,0,0,0],s=[0,0,0,0,0,0,0,0,0],h=new Uint8Array(je);for(o=0;je>o;++o)h[o]=S(t,a,o);for(d=((Ge-1>f?i[f+1]:b)+(Ge-2>f?i[f+2]:b))/2-b,v=b+1;je>v&&!E(h[v]);v++);for(l=v-b-1,(4>l||-4>d||d>4)&&(r=0),o=b;v>=o;++o)u[h[o]]++;for(o=0;je>o;++o)s[h[o]]++;n.push({f:b,c:v,h:l,s:d,e:u,v:s,a:r,l:m}),r&&c++}return n.a=c,n}var r=me+"_"+~~t.p[0]+"_"+~~t.p[1];t.h!=r&&(t.h=r,t.sl=e(-1),t.sr=e(1))}function R(t,e){t.d=1+e,t.T=Date.now(),r(I[e],a(t.p)),r(o(H))}function D(t,e){if(!(t.d>0)){A(t);var f,n,i,c=t.sl[0],v=c.f,l=ke-(v+1);if(c.e[2])for(n=0;5>=n;++n)if(2==S(t,Ge,ke+n)){R(t,2);break}if(!l&&t.v[1]<-3)return R(t,0);if(l){if(v>ke&&-5>l){var d=0,b=0;for(i=0;5>i;++i)d==i&&E(t.sl[i].l)&&d++,b==i&&E(t.sr[i].l)&&b++;if(5!=d)t.p[0]-=d,t.v[0]>0&&(t.v[0]*=-.5);else{if(5==b)return R(t,1);t.p[0]+=d,t.v[0]<0&&(t.v[0]*=-.5)}}l>0?t.v[1]-=.12:(t.p[1]-=l,t.v=[0,0])}else t.v[1]=0,t.p[1]=~~t.p[1];if(t.p[1]<0)return R(t,0);A(t);var m=Date.now();if(!t.d&&(0==t.t.length||"n"!=t.t[0]&&m>t.dt)){m>t.dt&&(t.t=[]),t.dt=m+500+500*Math.random();var u,s=0,h=Ge;for(i=0;h>i;++i){if(t.sl[i]&&t.sl[i].e[3]){s=-1,u=i;break}if(t.sr[i]&&t.sr[i].e[3]){s=1,u=i;break}}var x,D=0,g=Ge;for(i=0;g>i;++i){if(t.sl[i]&&t.sl[i].v[2]){D=-1,x=i;break}if(t.sr[i]&&t.sr[i].v[2]){D=1,x=i;break}}var T,C,y,p=[e[0]-t.p[0],e[1]-t.p[1]],M=0;for(i=0;Ge>i;++i){var U=t.sr[i];if(!U.a){U.s<-3&&(M=1,C=[i,U.f]);break}}if(M)for(i=C[0]+2;Ge>i;++i){var U=t.sr[i],w=U.f-C[1];if(-1!=U.f&&w>=-8&&5>=w){U.h>=4&&(T=1,y=[i,U.f]);break}}f=~~t.p[0],n=~~t.p[1];var W=[];if((0>D||!D&&Math.random()<.5)&&M&&T){var L=.1+.09*(y[0]-C[0]),_=1;W=["r",.7,f+C[0]-1,"j",L,_,"n",500,0]}else if(D)W=["r",-1*D,f+(0>D?30:-30)+10*(.5-Math.random()),"w",-.5*D,f+(0>D?50:-50)+10*(.5-Math.random())];else{var U=Math.random(),z=s&&8>u,F=z&&Math.random()<.7?s:Math.random()<.1?t.sr.a-t.sl.a:Math.random()<.1&&Math.abs(p[0])>80?p[0]:1;W=.9>U||z?["w",(F>=0?1:-1)*(.4-(z?.3*N(8,0,u):0)),f+(F>=0?t.sr.a-1:-t.sl.a+1)]:["n",800,0]}t.t=t.t.concat(W)}if(0==l){var i,P=1;for(i=0;i<t.t.length&&P;i+=3){P=0;var j=t.t[i],G=t.t[i+1],k=t.t[i+2];if("n"==j&&(k||(k=t.t[i+2]=Date.now()+G),Date.now()>k&&(P=1)),"w"==j||"r"==j){var B=0>G?t.sl:t.sr;!B[0].a||G>0&&k<=t.p[0]||0>G&&k>=t.p[0]?(t.v[0]=0,P=1):t.v[0]=G}"j"==j&&(P=1,t.p[1]++,t.v=[G,k],r(o(O),.3*Math.random()+.7*a(t.p)))}P||(i-=3),i>0&&t.t.splice(0,i)}A(t);var I=[].concat(t.v),H=t.sl[0].e;if(I[0]){var Z=[0,0],J=1,q=H[7]-H[6];q>3&&(Z[0]+=.1),3>q&&(Z[0]-=.1),0==l&&(J*=1+N(0,3,H[8]),J*=1-.2*N(0,3,H[3])),I[0]+=Z[0],I[1]+=Z[1],I[0]*=J,I[1]*=J}I[0]&&Math.random()<.04&&r(o(X),.3*Math.random()+.7*a(t.p));var Y=[t.p[0]+I[0],t.p[1]+I[1]];if(0==l){var V=~~Y[0]-~~t.p[0];if(V){var c=V>0?t.sr:t.sl;V=Math.abs(V),c[V]&&c[V].a&&(t.p=Y)}else t.p=Y}else t.p=Y}}function N(t,e,r){return Math.max(0,Math.min((r-t)/(e-t),1))}function g(t,e,r){t[e]=~~(256*r/9),t[e+3]=1}function T(t){function e(t,e,r){return e>=0&&u>e&&r>=0&&s>r?t[e+r*u]:r>50?1:0}function r(t,e,r,a){e>=0&&u>e&&r>=0&&s>r&&(t[e+r*u]=a)}function a(t,r,o){if(o--&&!(C<=y.length)){var f=~~(t+(r-t)/2),i=0;for(n=~~(Ee-.5*Math.random()*(Ee-he));n>he;n--){var c=e(Se,f,n);if(i>6&&c){y.push([Ae+f,n+1]);break}i=c?0:i+1}Math.random()<.5?(a(t,f,o),a(f,r,o)):(a(f,r,o),a(t,f,o))}}var o=!gr;gr=1;var f,n,i,c,v,l=o?0:.08*Math.random()*Math.random(),d=o?0:100*Math.random()*Math.random(),b=Math.random()<.3?24*Math.random()*Math.random():0,m=Math.random()<-.1*b+.4?16*Math.random()*Math.random():0,u=se[0],s=se[1],h=26;for(f=t;f<se[0];++f)for(n=0;n<se[1];++n)v=t&&t>=f?E(e(Se,t-1,n))?1:0:+(Math.random()>-.25*(1-N(0,100,n/2+f+Ae))+.09+l+.3*(N(0,25,n)+N(se[1]-50-d,se[1]-2-.2*d,n))),r(Se,f,n,v);var S=new Uint8Array(Se),A=Se;for(c=0;h>c;++c){for(f=t;f<se[0];++f)for(n=0;n<se[1];++n){var R=e(A,f,n),D=.1*R+(.9+.1*Math.random())*!!e(A,f-1,n-1)+(.9+.1*Math.random())*!!e(A,f,n-1)+(.9+.1*Math.random())*!!e(A,f+1,n-1)+(1.4+.2*Math.random())*!!e(A,f-1,n)+(1.1+.2*Math.random())*!!e(A,f+1,n)+(1.6-.1*Math.random())*!!e(A,f-1,n+1)+(1.2-.2*Math.random())*!!e(A,f,n+1)+(1-.1*Math.random())*!!e(A,f+1,n+1),v=+(D<=6+(Math.random()-.5)*(1-c/h));v&&D>=6-Math.random()*b+4*N(110,0,n)&&(v=5),v&&D>=6-Math.random()*m+6*N(20,60,n)&&(v=4),r(S,f,n,v)}var T=S;S=A,A=T}for(S===A&&(Se=S),i=0;i<Se.length;++i)g(xe,4*i,Se[i]);var C,y=[];o&&(C=8,a(50,128,8),ge=y,y=[],t+=128),C=o?5:Math.min(-1-4*Math.random()+6*Math.random()*Math.random(),30-pe.length),a(t+1,se[0]-1,6);for(var i=0;i<y.length;++i){var p=new x(y[i]);p.d=-1,pe.push(p)}Be.texImage2D(Be.TEXTURE_2D,0,Be.RGBA,se[0],se[1],0,Be.RGBA,Be.UNSIGNED_BYTE,xe)}function C(t,e){for(var r=Ae+t,a=[e-t,se[1]],o=new Uint8Array(a[0]*a[1]*4),f=new Uint8Array(a[0]*a[1]),n=se[0]-t,i=0;i<a[0]&&t+i<se[0];++i)for(var c=0;c<a[1];++c){var v=Se[t+i+c*se[0]],l=i+c*a[0];f[l]=v}Ae=r,se=a,xe=o,Se=f,T(n),ae[0]-=t*Re,camStart&&(camStart[0]-=t*Re)}function y(){for(var t=[],e=0;e<pe.length;++e)pe[e].d||t.push(pe[e]);var r,a;if(0==t.length)r=Ae+ae[0]/Re,a=Ae+(ae[0]+re[0])/Re;else{r=t[0].p[0],a=r;for(var e=0;e<t.length;++e){var o=t[e];r=Math.min(o.p[0],r),a=Math.max(o.p[0],a)}}var f=Math.max(Ae,ue*~~(r/ue-2)),n=Math.max(Ae+se[0],ue*~~(a/ue+2)),i=Math.max(0,f-Ae),c=Math.max(se[0],i+(n-f));return i||c-i-se[0]?(C(i,c),1):void 0}function p(){Q=0;for(var t=0;t<ge.length;++t){var e=new x(ge[t],["n",3e3+3e3*Math.random(),0]);pe.push(e)}}function M(){r(J),localStorage.ibex=Math.max(Q,localStorage.ibex||0),setTimeout(function(){onclick=location.reload.bind(location)},2e3)}function U(){Y=1,p(),De[1]=-4;var t=Date.now();!function e(){Date.now()-t>4e3||ae[1]<0?(De[1]=0,be=de):setTimeout(e,0)}()}function w(){var t=Date.now(),e=t-pr>=300;!e&&35>t-yr||(yr=t,Be.useProgram(Nr),Be.uniform2fv(sr,se),Be.uniform1f(dr,de),Be.uniform1f(br,Ae),Be.uniform1f(mr,be),Be.uniform1i(lr,Y),Be.uniform1i(hr,Te),Te&&(Te=0,Be.uniform2iv(Er,ie),Be.uniform1f(Sr,ye),Be.uniform1i(xr,Ce)),Be.bindBuffer(Be.ARRAY_BUFFER,Ie),Be.vertexAttribPointer(Ar,2,Be.FLOAT,Be.FALSE,0,0),Be.bindFramebuffer(Be.FRAMEBUFFER,Dr),Be.drawArrays(Be.TRIANGLES,0,6),e&&(pr=t,Be.readPixels(0,0,se[0],se[1],Be.RGBA,Be.UNSIGNED_BYTE,xe),n(xe,Se),y()&&(Be.readPixels(0,0,se[0],se[1],Be.RGBA,Be.UNSIGNED_BYTE,xe),n(xe,Se)),me++),Be.bindFramebuffer(Be.FRAMEBUFFER,null),de++)}function W(){requestAnimationFrame(W),s();var t=Te;w();var e=[0,0];for(n=0;n<pe.length;n++){var a=pe[n];if(a.d){if(a.d<0)for(P=0;P<pe.length;P++){var o=pe[P];if(!o.d&&f(a.p,o.p)<16){a.d=0,K++,r(Z);break}}}else e[0]+=a.p[0],e[1]+=a.p[1]}e[0]/=pe.length,e[1]/=pe.length,ce=0,ve=0;for(var n=0;n<pe.length;){var i=pe[n];D(i,e),i.d?i.d<0&&ve++:(Q=Math.max(Q,~~i.p[0]+500*K),ce++),i.d<0&&i.p[0]<Ae||i.d>0&&Date.now()-i.T>3e3?pe.splice(n,1):++n}$+=.01*(Q-$),Y&&!ce&&(V||M(),De[0]=1,V=1,$=Q);var c=t?.5:1;c*=N(0,120,Date.now()-We);var l=c*De[0],d=c*De[1];camStart&&(camStart[0]+=l,camStart[1]+=d),v([ae[0]+l,ae[1]+d]);for(var b=[],n=0;n<pe.length;++n){var i=pe[n],m=i.v[0]>0?i.sl:i.sr,u=m[0].f+1==ke&&m[3].a?m[0].f-m[3].f:0;b.push(i.p[0]-Ae,i.p[1],i.v[0],i.v[1],i.d||0,i.d>0?(Date.now()-i.T)/999:0,u)}var h=(Date.now()-Cr)/999;Be.useProgram(cr),Be.uniform2fv(nr,re),Be.uniform2fv(Qe,se),Be.uniform1f(Xe,h),Be.uniform1f(He,ce),Be.uniform1f(Ze,V?K:ve),Be.uniform1f(Je,Re),Be.uniform2fv(or,ae),Be.uniform1i(fr,t),Be.uniform1i(qe,Y),Be.uniform1i(Ye,V),Be.uniform1f(Ve,$),b.length&&Be.uniform1fv($e,b),Be.uniform1i(tr,pe.length),Be.uniform1i(ar,Ce),Be.bindBuffer(Be.ARRAY_BUFFER,Ie),Be.vertexAttribPointer(Oe,2,Be.FLOAT,!1,0,0),Be.drawArrays(Be.TRIANGLES,0,6)}var L=new e;window.jsfxr=function(t){L._params.setSettings(t);var e=L.totalReset(),r=new Uint8Array(4*((e+1)/2|0)+44),a=2*L.synthWave(new Uint16Array(r.buffer,44),e),o=new Uint32Array(r.buffer,0,44);o[0]=1179011410,o[1]=a+36,o[2]=1163280727,o[3]=544501094,o[4]=16,o[5]=65537,o[6]=44100,o[7]=88200,o[8]=1048578,o[9]=1635017060,o[10]=a,a+=44;for(var f=0,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="data:audio/wav;base64,";a>f;f+=3){var c=r[f]<<16|r[f+1]<<8|r[f+2];i+=n[c>>18]+n[c>>12&63]+n[c>>6&63]+n[63&c]}return i};var _,z,F,P,j="precision highp float;uniform vec3 CL[9];uniform vec2 WS;uniform vec2 RES;uniform float ZM;uniform vec2 CM;uniform bool DR;uniform bool ST;uniform bool GO;uniform float score;uniform float time;uniform sampler2D state;uniform float AN[7*30];uniform int AL;uniform float alive;uniform float TR;uniform sampler2D tiles;uniform int DO;float a(vec2 b){return fract(sin(dot(b.xy,vec2(12.9898,78.233)))*43758.5453);}bool c(float d,float e,float f){return e<=d&&d<=f;}bool c(vec2 d,vec2 e,vec2 f){return e.x<=d.x&&d.x<=f.x&&e.y<=d.y&&d.y<=f.y;}float g=31599.0;float h=9362.0;float i=29671.0;float j=29391.0;float k=23497.0;float l=31183.0;float m=31215.0;float n=29257.0;float o=31727.0;float p=31695.0;float q(float r,float f){r=floor(r);f=floor(f);f=floor(r/pow(2.,f));return float(mod(f,2.)==1.);}float s(float r,float t,float u,vec2 d){float v=float(all(lessThan(d,vec2(t,u)))&&all(greaterThanEqual(d,vec2(0,0))));return q(r,(2.0-d.x)+3.0*d.y)*v;}float w(float x,vec2 d){x=mod(floor(x),10.0);if(x==0.0) return s(g,3.,5.,d);if(x==1.0) return s(h,3.,5.,d);if(x==2.0) return s(i,3.,5.,d);if(x==3.0) return s(j,3.,5.,d);if(x==4.0) return s(k,3.,5.,d);if(x==5.0) return s(l,3.,5.,d);if(x==6.0) return s(m,3.,5.,d);if(x==7.0) return s(n,3.,5.,d);if(x==8.0) return s(o,3.,5.,d);if(x==9.0) return s(p,3.,5.,d);return 0.0;}float y(float r,vec2 d){float z=0.;vec2 A=vec2(1,1);z+=w(r/100000.,floor(d-A));A.x+=4.;z+=w(r/10000.,floor(d-A));A.x+=4.;z+=w(r/1000.,floor(d-A));A.x+=4.;z+=w(r/100.,floor(d-A));A.x+=4.;z+=w(r/10.,floor(d-A));A.x+=4.;z+=w(r,floor(d-A));return z;}float B(float r,vec2 d){float z=0.;vec2 A=vec2(-8,-6);z+=w(r/10.,floor(d-A));A.x+=4.;z+=w(r,floor(d-A));return z;}vec4 C(vec2 d,vec2 D,vec2 E,float F,float G,float H,float I){vec2 J=F>0.0?(1.0+E-mix(vec2(0.0),E,pow(smoothstep(0.0,0.5,G),0.3)))+vec2(a(gl_FragCoord.xy+time*0.03)-0.5,a(gl_FragCoord.xy+time*0.1)-0.5)*mix(1.,8.,pow(smoothstep(1.0,6.0,G),0.6)):vec2(0.0);float K=step(0.5,fract(time/2.0));float L=abs(E.x)<0.1?(F<0.0?5.0+K:0.0):1.0+floor(mod(D.x/(2.0*I),4.0));D=(J+d-D)/I;if(E.x>=0.0) D.x=-D.x;float M=clamp(H,-2.,2.)*smoothstep(0.0,4.0,D.x);D+=vec2(3.5,M);D/=8.0;vec4 N=vec4(0.0);if(c(D,vec2(0.0),vec2(1.0))){N+=texture2D(tiles,mix(vec2(0.0,(1.0+L)/8.0),vec2(1.0,L/8.0),D));}if(F<0.0){L=7.0;vec2 O=D*(K+1.5)+vec2(0.8,-1.0);if(c(O,vec2(0.0),vec2(1.0))){N+=vec4(vec3(1.0),0.7+0.3*K)*texture2D(tiles,mix(vec2(1.0,(1.0+L)/8.0),vec2(0.0,L/8.0),O));}}return F>0.0?vec4(vec3(0.3+1.2*length(N.rgb),0.2,0.1),smoothstep(3.0,1.5,G)*N.a):N;}vec2 P(float Q,float R,float S){return Q*vec2(cos(S*1.1*time+R*0.9*gl_FragCoord.x+0.5),sin(S*time+R*gl_FragCoord.y+0.1));}vec3 T(int U){if(U==0) return CL[0];if(U==1) return CL[1];if(U==2) return CL[2];if(U==3) return CL[3];if(U==4) return CL[4];if(U==5) return CL[5];if(U==6) return CL[6];if(U==7) return CL[7];return CL[8];}int V(vec2 D){vec2 W=(floor(D)+0.5)/WS;bool X=W.x<0.0||W.x>1.0||W.y<0.0||W.y>1.0;if(X) return D.y<0.0?1:0;float Y=texture2D(state,W).r;return int(floor(.5+9.*Y));}vec3 Z(int U,vec2 D){return (mix(1.0,a(D),0.05*float(U==1)+0.2*float(U==8))+float(U==8)*(step(0.97,a(D))*vec3(3.0,0.0,0.0)+step(a(D),0.02)*vec3(1.5,-0.5,0.5)))*T(U);}bool ba(vec2 d,vec2 D,float I){d=(d-D)/I;return 0.0<d.y&&d.y<1.0&&(0.8<d.x&&d.x<1.0||1.2<d.x&&d.x<1.4||1.2<d.x&&d.x<2.0&&0.0<d.y&&d.y<0.2||1.2<d.x&&d.x<2.0&&0.4<d.y&&d.y<0.6||1.2<d.x&&d.x<1.8&&0.8<d.y&&d.y<1.0||1.6<d.x&&d.x<1.8&&0.6<d.y&&d.y<1.0||1.8<d.x&&d.x<2.0&&0.0<d.y&&d.y<0.4||2.2<d.x&&d.x<2.4||2.2<d.x&&d.x<3.0&&0.0<d.y&&d.y<0.2||2.2<d.x&&d.x<2.8&&0.4<d.y&&d.y<0.6||2.2<d.x&&d.x<3.0&&0.8<d.y&&d.y<1.0||3.2<d.x&&d.x<3.4&&!(0.4<d.y&&d.y<0.6)||3.6<d.x&&d.x<3.8&&!(0.4<d.y&&d.y<0.6)||3.4<d.x&&d.x<3.6&&0.4<d.y&&d.y<0.6);}vec2 bb=RES/vec2(2.0,2.0);vec4 bc(vec2 d,vec3 N){float bd=6.*ZM;float be=distance(d,bb);vec3 z=T(DO);vec3 bf=1.2*(0.1+z);if(be<bd-4.0){return vec4(1.2*mix(N*bf,z,0.6-0.3*float(DR)),1.0);}else if(be<bd){return vec4(bf-0.6*N,1.0);}return vec4(0.0);}vec4 bg(vec2 d,vec3 N){float bd=4.*ZM;float bh=8.;float H=2.*bd+bh;vec2 bi=bb-vec2(0.0,14.0*ZM);vec2 I=vec2(8.*bd+3.*bh,2.*bd);d=d-bi+I/2.0;if(d.x<0.0||d.x>I.x||d.y<0.0||d.y>I.y) return vec4(0.0);float bj=floor(d.x/H);float F=float(int(bj)==DO);bi=vec2(H*bj,0.0)+vec2(bd);float be=distance(d,bi);vec3 z=T(int(bj));z=1.1*(z+mix(0.0,0.1,F))+0.4*z;if(be<bd*mix(0.6,1.0,F)){return vec4(z,0.5);}return vec4(0.0);}vec4 v(vec2 bk,vec2 bl){float bm=min(bk.x,bl.x);float bn=max(bk.x,bl.x);float bo=min(bk.y,bl.y);float bp=max(bk.y,bl.y);return vec4(bm,bo,bn,bp);}bool bq(vec2 d,vec2 e,vec2 f){return e.x<=d.x&&d.x<=f.x&&e.y<=d.y&&d.y<=f.y;}float br(vec2 d,float bs,vec2 e,vec2 f){return float(bq(d,e,f)&&!bq(d,e+bs,f-bs));}vec4 bt(vec2 d,vec2 bk,vec2 bl){vec4 bu=v(bk,bl);bk=bu.xy;bl=bu.zw;if(!bq(d,bk,bl)) return vec4(0.0);vec2 bv=bl-bk;vec2 W=(d-bk)/bv;vec2 bw=WS*W;int U=V(bw);vec3 bx=T(U);vec2 by=WS*ZM;vec4 bz=v(bv*CM/by,bv*(CM+RES)/by);vec2 bA=bk+bz.xy;vec2 bB=bk+bz.zw;float bC=0.0;float bD=0.0;float bE=0.0;for(int bj=0;bj<30;++bj){if(bj>=AL) break;float be=distance(vec2(AN[7*bj+0],AN[7*bj+1]),bw);float bF=AN[7*bj+4];if(bF<0.0) bD+=float(be<=6.0);else if(bF==0.0) bC+=float(be<=4.0);else bE+=float(be<=4.0);}vec4 bG=vec4(mix(CL[0],1.2*(0.1+bx.rgb),0.7),1.0);vec4 bH=float(bD>0.0)*vec4(0.2,1.0,0.2,1.0)+float(bE>0.0)*vec4(1.0,0.2,0.1,1.0)+float(bC>0.0)*vec4(1.0,1.0,0.3,1.0)+br(d,2.0,bk,bl)+br(d,1.0,bA,bB);vec4 z=mix(bG,bH,bH.a);return vec4(z.rgb,z.a*0.8);}float bI(float be,float bJ,float bK,float bL){return 1.0/(bJ+bK*be+bL*be*be);}void main(){vec2 d=gl_FragCoord.xy;vec2 J=vec2(0.0);bool bM=false;float H;vec2 bN;vec2 bO;vec4 N;if(!ST||GO){if(GO){H=64.0;bN=vec2((RES.x-4.0*H)/2.0,RES.y-H*1.4);}else{H=140.0;bN=(RES-vec2(4.4*H,H))/2.0;}bO=vec2(3.0*H,1.6*H);if(ba(d,bN,H)){bM=true;}}if(bM){J+=P(1.0,0.1,2.0);}float bP=0.0;if(ST&&!GO){bP=bc(d,vec3(0.0)).a;if(bP>0.){J+=P(1.6,0.08,3.0);}}vec2 bw=(d+J+CM)/ZM;vec2 bQ=floor(bw);vec3 bR=Z(V(bQ),bQ);vec2 bS=fract(bw);vec3 z=bR;vec3 bT=vec3(0.02)*vec3(a(ZM*floor(d/ZM)+time/31.0),a(ZM*floor(d/ZM)+time/80.1),a(ZM*floor(d/ZM)+time/13.2));vec3 bU=-vec3(0.03)*(bS.x-bS.y);vec4 bV=vec4(0.0);float bW=bI(distance(bb,d),0.00001,0.003,0.00001);for(int bj=0;bj<30;++bj){if(bj>=AL) break;vec2 bX=vec2(AN[7*bj+0],AN[7*bj+1]);float G=AN[7*bj+5];float F=AN[7*bj+4];vec4 z=C(bw,bX,vec2(AN[7*bj+2],AN[7*bj+3]),F,G,AN[7*bj+6],1.0);float be=distance(bX,bw);bW+=smoothstep(2.0,0.0,G)*bI(distance(bX,bw),0.0,0.05,0.001);bV=mix(bV,z,z.a);}vec3 bY=z+bT+bU;z=bV.a==0.0?bY:mix(bY,bV.rgb,min(1.0,bV.a));z=mix(CL[0],z,min(1.0,bW)*smoothstep(WS.x,WS.x-100.0,bw.x)*smoothstep(0.0,50.0,bw.x));if(bP>0.0){N=bc(d,z);z=mix(z.rgb,N.rgb,N.a);}if(!ST||GO){if(bM){z=1.4*(0.4+0.8*z);}else if(ba(gl_FragCoord.xy,bN+vec2(8.0,-8.0),H)){z=vec3(0.0);}}vec2 bZ=d;if(GO){bZ-=(RES-RES/vec2(6.0,36.0))/2.;}if(y(score,(bZ/RES)*128.*vec2(1,RES.y/RES.x))>0.0){z=mix(vec3(1.0,0.5,0.3),vec3(1.0,0.3,1.0),float(!ST))+0.3*(1.0-z);}float ca=150.0;float cb=0.015*RES.x;vec2 cc=d-RES+vec2(4.0*cb,2.5);if(!GO&&ST){N=bg(d,z);z=mix(z.rgb,N.rgb,N.a);N=C(d,RES-vec2(2.0,3.0)*cb,vec2(0.0),0.0,0.0,0.0,0.3*cb);z=mix(z,N.rgb+0.2-0.3*z,N.a);if(B(alive,(cc/RES)*ca*vec2(1,RES.y/RES.x))>0.0){z=0.5+0.5*(1.0-z);}}if(ST){if(GO||TR>0.0){cc+=vec2(0.0,4.0*cb);N=C(d,RES-vec2(2.0,7.0)*cb,vec2(0.0),-1.0,0.0,0.0,0.3*cb);z=mix(z,N.rgb+0.2-0.3*z,N.a);if(B(TR,(cc/RES)*ca*vec2(1,RES.y/RES.x))>0.0){z=vec3(0.0,1.0,0.0)+0.5*(1.0-z);}}}if(!GO&&ST){vec2 bv=vec2(RES.y/6.0)*vec2(WS.x/WS.y,1.0);vec2 cd=vec2(10.0,RES.y-10.0);N=bt(d,cd,cd+bv*vec2(1.0,-1.0));z=mix(z,N.rgb,N.a);}gl_FragColor=vec4(z,1.0);}",G="attribute vec2 P;void main(){gl_Position=vec4(2.0*P-1.0,0.0,1.0);}",k="\n#define RAND (S_=vec2(rand(S_), rand(S_+9.))).x\n\n#define AnyADJ(e) (NW==e||SE==e||NE==e||SW==e||NN==e||SS==e||EE==e||WW==e)\nprecision highp float;int a=0;int b=1;int c=2;int d=3;int e=4;int f=5;int g=6;int h=7;int i=8;uniform vec2 SZ;uniform float SD;uniform float TI;uniform float TS;uniform float ST;uniform sampler2D state;uniform bool RU;uniform bool draw;uniform ivec2 DP;uniform float DR;uniform int DO;int j(int k,int l){vec2 m=(gl_FragCoord.xy+vec2(k,l))/SZ;return (m.x<0.0||m.x>=1.0||m.y<0.0||m.y>=1.0)?0:int(floor(.5+9.*texture2D(state,m).r));}bool n(float o,float p,float q){return p<=o&&o<=q;}float rand(vec2 r){return fract(sin(dot(r.xy,vec2(12.9898,78.233)))*43758.5453);}float s(vec2 t){return mix(rand(vec2(t.x)),0.5*(1.0+(cos(sin(t.y*0.01+t.x*0.05)+(1.0+0.3*sin(t.x*0.01))*t.y*0.08))),0.6);}bool u(vec2 t){if(TS==0.0) return false;float v=800.0;float w=70.0;float x=5.0;float y=TI-TS-v;float z=floor(y/w);float A=(y-z*w);return distance(vec2(2.0*(x*z-ST),x*A),t)<=x;}void main(){vec2 t=gl_FragCoord.xy;vec2 S_=t+0.001*TI;int NW=j(-1,1);int NN=j(0,1);int NE=j(1,1);int WW=j(-1,0);int CC=j(0,0);int EE=j(1,0);int SW=j(-1,-1);int SS=j(0,-1);int SE=j(1,-1);bool B=CC==b||CC==i||CC==e||CC==f;int C=a;int D=int(20.0*pow(s(t),1.3));float E=mod(TI,300.0);float F=mod(TI,25.0);if(-0.05*float(NW==d)+-0.40*float(NN==d)+-0.05*float(NE==d)+-0.50*float(WW==d)+-0.50*float(CC==d)+-0.50*float(EE==d)+0.35*float(SW==c)+0.90*float(SS==c)+0.35*float(SE==c)>=0.9-0.6*RAND||CC==c&&RAND<0.9&&AnyADJ(i)){C=c;}if(n(0.3*float(NW==d)+0.9*float(NN==d)+0.3*float(NE==d)+0.1*float(WW==d)+-0.3*float(CC==c)+0.1*float(EE==d)+-0.3*float(SS==c),0.9-0.6*RAND,1.4+0.3*RAND)||!B&&RAND<0.98&&((WW==d||NW==d)&&SW==b||(EE==d||NE==d)&&SE==b)||!B&&t.y>=SZ.y-1.0&&E<100.0&&n(t.x-(rand(vec2(SD*0.7+TI-E))*SZ.x),0.0,100.0*rand(vec2(SD+TI-E)))||!B&&(0.9*float(NW==f)+1.0*float(NN==f)+0.9*float(NE==f)+0.7*float(WW==f)+0.7*float(EE==f)>=1.0-0.3*RAND)){C=d;}if(CC==b){if(!(WW==a&&EE==a)) C=b;if(RAND<0.3&&(1.0*float(NW==d)+1.2*float(NN==d)+1.0*float(NE==d)+0.5*float(WW==d)+0.5*float(EE==d)+0.3*float(SW==d)+0.2*float(SS==d)+0.3*float(SE==d)>=3.0-2.5*RAND)||RAND<0.01&&(WW==f||NN==f||EE==f)){C=f;}if(RAND<0.006+0.02*smoothstep(0.0,10000.0,ST+t.x)&&(0.3*float(NW==c)+0.2*float(SS==c)+0.3*float(NE==c)+0.5*float(WW==c)+0.5*float(EE==c)+1.0*float(SW==c)+1.2*float(NN==c)+1.0*float(SE==c)>=3.0-2.1*RAND)||RAND<0.01+0.02*smoothstep(500.0,5000.0,ST+t.x)&&(int(WW==e)+int(SS==e)+int(EE==e)+int(SE==e)+int(SW==e)>1)){C=e;}}if(D>0){if(CC==i){C=i;if(CC==i&&RAND<0.9&&(AnyADJ(c)||AnyADJ(e))){C=c;}}else if(!B&&(AnyADJ(b)||AnyADJ(i)||AnyADJ(f))){if(RAND<0.03&&j(0,-D)!=i&&(SS==i&&RAND<0.07||SS==b&&RAND<0.02||AnyADJ(d)||AnyADJ(f))){C=i;}}}if((!B||CC==c)&&SS==e){C=c;}if(CC==e){C=e;if(NW==d||NN==d||NE==d||EE==d||WW==d){C=RAND<0.8?f:b;}if(RAND<0.005&&(int(SW==c||SW==e)+int(SS==c||SS==e)+int(SE==c||SE==e)<2)){C=b;}if(int(NW==f)+int(SE==f)+int(NE==f)+int(SW==f)+int(NN==f)+int(SS==f)+int(EE==f)+int(WW==f)>1){C=RAND<0.2?e:(RAND<0.8?f:b);}}if(B&&t.y<=2.0&&F<=1.0&&RAND<0.3&&n(t.x-rand(vec2(SD*0.01+TI-F))*SZ.x,0.0,10.0*rand(vec2(SD*0.07+TI-F)))){C=e;}if(CC==f){C=f;if(RAND<0.06&&(int(NW==d||NW==f)+int(NN==d||NN==f)+int(NE==d||NE==f)<1)||(EE==c||WW==c||SS==c||SW==c||SE==c)){C=b;}if(AnyADJ(e)){C=RAND<0.15?e:(RAND<0.6?f:b);}}if(C==a){if(RAND<0.00001) C=g;if(RAND<0.00001) C=h;}int G=C==g?g:C==h?h:0;float o=(-0.1+0.05*(RAND-0.5))*float(NW==h)+0.12*float(NE==g)+-0.65*float(WW==h)+0.65*float(EE==g)+-0.1*float(SW==h)+(0.2+0.05*(RAND-0.5))*float(SE==g);if(n(o,0.4*RAND,0.95)){G=g;}else if(n(o,-0.95,-0.4*RAND)){G=h;}if(G!=0){if(C==a){C=G;}else if(C==c){if(RAND<0.4) C=G;}else if(C==d){if(RAND<0.1) C=G;}}if(draw){vec2 H=floor(t);if(distance(H,vec2(DP))<=DR){if(DO==d){if(B&&CC!=i){C=f;}else if(!B&&mod(H.x+H.y,2.0)==0.0){C=d;}}else if(DO==c){C=B?e:c;}else{C=DO;}}}if(u(t)){C=B?e:c;}if(!RU){if(C==c||C==d||C==i) C=a;if(C==e||C==f) C=b;}gl_FragColor=vec4(float(C)/9.0,0.0,0.0,1.0);}",B="attribute vec2 P;void main(){gl_Position=vec4(2.0*P-1.0,0.0,1.0);}",I=[[3,,.45,.73,.5,.08,,.04,-.04,.15,.05,,,,,,.3799,.02,.08,,.35,.65,.08,.6],[3,.04,.34,.76,.62,.26,,-.04,-.14,.62,.35,,,.33,.28,,-.06,.3799,.13,-.0999,,.28,-.14,.2],[3,.35,.67,,.52,.12,,,,,,,,,,,.6799,,.25,-.04,,,-.0999,.2]].map(jsfxr),O=[],X=[],H=[];for(F=0;4>F;++F)H.push(jsfxr([1,.61,.36,.14,.75,.68,,-.16,-.02,.73,.12,-.0999,.32,Math.random()/2,.32,.22,.1999,-.02,.4,-.06,.18,.78,,.3])),O.push(jsfxr([0,.03,.3,.13,.2,.26+F/20,,.1399,,.02,.07,-.06,,.42,,,-.06,-.02,.34,.04,,.28,.06,.2])),X.push(jsfxr([3,.15+.1*Math.random(),.1749,,.22,.05+F/9,,-.16,,,,,,,,,,,.08,-.06,,.8,,.6]));var Z=jsfxr([1,.16,.18,,.45,.23,,,.1,.37,.2,.58,.44,,,,,,.3,,.21,.15,.34,.3]),J=jsfxr([0,.11,1,.22,.7,.61,,-.06,-.0799,.21,.28,-.04,.2,.56,-.4,,.28,-.54,.1,-.04,.52,.8,-.02,.8]),q=document.createElement("canvas"),Y=0,V=0,K=0,Q=+(localStorage.ibex||0),$=Q,te=new Image;te.src="t.png";var ee,re,ae,oe,fe,ne,ie,ce,ve,le=[.11,.16,.23,.74,.66,.51,.84,.17,.08,.4,.75,.9,.6,0,0,.3,.6,.7,.15,.2,.27,.07,.12,.19,.2,.6,.2],de=0,be=0,me=0,ue=128,se=[256,256],he=10,Ee=150,xe=new Uint8Array(se[0]*se[1]*4),Se=new Uint8Array(se[0]*se[1]),Ae=0,Re=4,De=[0,0],Ne=[0,0],ge=[],Te=0,Ce=0,ye=6,pe=[];d(),q.addEventListener("mouseleave",d),q.addEventListener("mousedown",function(t){t.preventDefault(),Y&&!V&&(oe=l(t),fe=!m(oe),ne=b(oe),camStart=[].concat(ae))}),q.addEventListener("mouseup",function(t){if(Y||U(),Y&&!V){if(-1!=ne){var e=b(l(t));ne==e&&(Ce=ne)}d()}}),q.addEventListener("mousemove",function(t){if(Y&&!V){var e=b(Ne=l(t));if(q.style.cursor=oe?fe?"move":"none":m(Ne)||-1!=e?"pointer":"default",oe){var r=Ne[0]-oe[0],a=Ne[1]-oe[1];v(fe?[camStart[0]-r,camStart[1]-a]:[camStart[0]+r,camStart[1]+a])}}});var Me=0;onwheel=onmousewheel=function(t){var e=~~((Me+=t.deltaY)/100);Ce=(16+Ce+e)%4,Me-=100*e};var Ue,we=new Uint8Array(200),We=Date.now();document.addEventListener("keyup",function(t){var e=t.which;we[e]=0,(e>=37&&40>=e||87==e||90==e||88==e||67==e||86==e)&&h()}),document.addEventListener("keydown",function(t){var e=t.which;we[e]=1,(e>=37&&40>=e||87==e||90==e||88==e||67==e||86==e)&&(t.preventDefault(),h())});var Le,_e,ze,Fe,Pe=32,je=18,Ge=Pe/2,ke=je/2,Be=q.getContext("webgl")||q.getContext("experimental-webgl");Fe=Be.createProgram(),_e=G,ze=Be.VERTEX_SHADER,Le=Be.createShader(ze),Be.shaderSource(Le,_e),Be.compileShader(Le),Be.attachShader(Fe,Le),_e=j,ze=Be.FRAGMENT_SHADER,Le=Be.createShader(ze),Be.shaderSource(Le,_e),Be.compileShader(Le),Be.attachShader(Fe,Le),Be.linkProgram(Fe),Be.useProgram(Fe);var Ie=Be.createBuffer(),Oe=Be.getAttribLocation(Fe,"P");Be.enableVertexAttribArray(Oe),Be.bindBuffer(Be.ARRAY_BUFFER,Ie),Be.vertexAttribPointer(Oe,2,Be.FLOAT,!1,0,0),(onresize=function(){var t=[innerWidth,innerHeight];ee=t;var e=Math.min(t[0],512),r=~~(e*t[0]/t[1]);Y||(ae=[0,256*Re-e]),re=[r,e],q.style.width=t[0]+"px",q.style.height=t[1]+"px",q.width=re[0],q.height=re[1],Be.viewport(0,0,q.width,q.height);var a=0,o=0,f=re[0],n=re[1];Be.bufferData(Be.ARRAY_BUFFER,new Float32Array([a,o,f,o,a,n,a,n,f,o,f,n]),Be.STATIC_DRAW),Be.uniform2fv(nr,re)})();var Xe=Be.getUniformLocation(Fe,"time"),He=Be.getUniformLocation(Fe,"alive"),Ze=Be.getUniformLocation(Fe,"TR"),Je=Be.getUniformLocation(Fe,"ZM"),qe=Be.getUniformLocation(Fe,"ST"),Ye=Be.getUniformLocation(Fe,"GO"),Ve=Be.getUniformLocation(Fe,"score"),Ke=Be.getUniformLocation(Fe,"state"),Qe=Be.getUniformLocation(Fe,"WS"),$e=Be.getUniformLocation(Fe,"AN"),tr=Be.getUniformLocation(Fe,"AL"),er=Be.getUniformLocation(Fe,"tiles"),rr=Be.getUniformLocation(Fe,"CL"),ar=Be.getUniformLocation(Fe,"DO"),or=Be.getUniformLocation(Fe,"CM"),fr=Be.getUniformLocation(Fe,"DR"),nr=Be.getUniformLocation(Fe,"RES"),ir=Be.createTexture();te.onload=function(){Be.useProgram(cr),Be.activeTexture(Be.TEXTURE1),Be.bindTexture(Be.TEXTURE_2D,ir),Be.texParameteri(Be.TEXTURE_2D,Be.TEXTURE_WRAP_S,Be.CLAMP_TO_EDGE),Be.texParameteri(Be.TEXTURE_2D,Be.TEXTURE_WRAP_T,Be.CLAMP_TO_EDGE),Be.texParameteri(Be.TEXTURE_2D,Be.TEXTURE_MIN_FILTER,Be.NEAREST),Be.texParameteri(Be.TEXTURE_2D,Be.TEXTURE_MAG_FILTER,Be.NEAREST),Be.texImage2D(Be.TEXTURE_2D,0,Be.RGBA,Be.RGBA,Be.UNSIGNED_BYTE,te),Be.uniform1i(er,1),Be.activeTexture(Be.TEXTURE0)},Be.uniform1i(Ke,0),Be.uniform3fv(rr,le);var cr=Fe;Fe=Be.createProgram(),_e=B,ze=Be.VERTEX_SHADER,Le=Be.createShader(ze),Be.shaderSource(Le,_e),Be.compileShader(Le),Be.attachShader(Fe,Le),_e=k,ze=Be.FRAGMENT_SHADER,Le=Be.createShader(ze),Be.shaderSource(Le,_e),Be.compileShader(Le),Be.attachShader(Fe,Le),Be.linkProgram(Fe);var vr=Be.getUniformLocation(Fe,"SD"),lr=Be.getUniformLocation(Fe,"RU"),dr=Be.getUniformLocation(Fe,"TI"),br=Be.getUniformLocation(Fe,"ST"),mr=Be.getUniformLocation(Fe,"TS"),ur=Be.getUniformLocation(Fe,"state"),sr=Be.getUniformLocation(Fe,"SZ"),hr=Be.getUniformLocation(Fe,"draw"),Er=Be.getUniformLocation(Fe,"DP"),xr=Be.getUniformLocation(Fe,"DO"),Sr=Be.getUniformLocation(Fe,"DR"),Ar=Be.getAttribLocation(Fe,"P");Be.enableVertexAttribArray(Ar);var Rr=Be.createTexture();Be.activeTexture(Be.TEXTURE0),Be.bindTexture(Be.TEXTURE_2D,Rr),Be.texParameteri(Be.TEXTURE_2D,Be.TEXTURE_MIN_FILTER,Be.LINEAR),Be.texParameteri(Be.TEXTURE_2D,Be.TEXTURE_WRAP_S,Be.CLAMP_TO_EDGE),Be.texParameteri(Be.TEXTURE_2D,Be.TEXTURE_WRAP_T,Be.CLAMP_TO_EDGE);var Dr=Be.createFramebuffer();Be.bindFramebuffer(Be.FRAMEBUFFER,Dr),Be.framebufferTexture2D(Be.FRAMEBUFFER,Be.COLOR_ATTACHMENT0,Be.TEXTURE_2D,Rr,0),Be.useProgram(Fe),Be.uniform1f(vr,Math.random()),Be.uniform1i(ur,0);var Nr=Fe,gr=0;T(0);var Tr=new Uint8Array(100);for(_=0;100>_;++_)for(var z=se[1]-1;z>0;z--)if(E(Se[_+z*se[0]])){Tr[_]=z;break}var Cr=Date.now(),yr=0,pr=0;document.body.innerHTML="",document.body.appendChild(q),W()},300);