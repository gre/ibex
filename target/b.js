setTimeout(function(){function t(){this.setSettings=function(t){for(var e=0;24>e;e++)this[String.fromCharCode(97+e)]=t[e]||0;this.c<.01&&(this.c=.01);var o=this.b+this.c+this.e;if(.18>o){var r=.18/o;this.b*=r,this.c*=r,this.e*=r}}}function e(){this._params=new t;var e,o,r,a,n,f,i,c,v,l,b,m;this.reset=function(){var t=this._params;a=100/(t.f*t.f+.001),n=100/(t.g*t.g+.001),f=1-t.h*t.h*t.h*.01,i=-t.i*t.i*t.i*1e-6,t.a||(b=.5-t.n/2,m=5e-5*-t.o),c=1+t.l*t.l*(t.l>0?-.9:10),v=0,l=1==t.m?0:(1-t.m)*(1-t.m)*2e4+32},this.totalReset=function(){this.reset();var t=this._params;return e=t.b*t.b*1e5,o=t.c*t.c*1e5,r=t.e*t.e*1e5+12,3*((e+o+r)/3|0)},this.synthWave=function(t,u){var s=this._params,d=1!=s.s||s.v,h=s.v*s.v*.1,E=1+3e-4*s.w,S=s.s*s.s*s.s*.1,x=1+1e-4*s.t,R=1!=s.s,A=s.x*s.x,D=s.g,g=s.q||s.r,T=s.r*s.r*s.r*.2,N=s.q*s.q*(s.q<0?-1020:1020),p=s.p?((1-s.p)*(1-s.p)*2e4|0)+32:0,C=s.d,y=s.j/2,M=s.k*s.k*.01,U=s.a,W=e,w=1/e,L=1/o,_=1/r,F=5/(1+s.u*s.u*20)*(.01+S);F>.8&&(F=.8),F=1-F;for(var K,k,O,P,G,I,Y=!1,B=0,j=0,q=0,X=0,Z=0,H=0,J=0,Q=0,z=0,V=0,$=new Array(1024),te=new Array(32),ee=$.length;ee--;)$[ee]=0;for(var ee=te.length;ee--;)te[ee]=2*Math.random()-1;for(var ee=0;u>ee;ee++){if(Y)return ee;if(p&&++z>=p&&(z=0,this.reset()),l&&++v>=l&&(l=0,a*=c),f+=i,a*=f,a>n&&(a=n,D>0&&(Y=!0)),k=a,y>0&&(V+=M,k*=1+Math.sin(V)*y),k|=0,8>k&&(k=8),U||(b+=m,0>b?b=0:b>.5&&(b=.5)),++j>W)switch(j=0,++B){case 1:W=o;break;case 2:W=r}switch(B){case 0:q=j*w;break;case 1:q=1+2*(1-j*L)*C;break;case 2:q=1-j*_;break;case 3:q=0,Y=!0}g&&(N+=T,O=0|N,0>O?O=-O:O>1023&&(O=1023)),d&&E&&(h*=E,1e-5>h?h=1e-5:h>.1&&(h=.1)),I=0;for(var oe=8;oe--;){if(J++,J>=k&&(J%=k,3==U))for(var re=te.length;re--;)te[re]=2*Math.random()-1;switch(U){case 0:G=b>J/k?.5:-.5;break;case 1:G=1-J/k*2;break;case 2:P=J/k,P=6.28318531*(P>.5?P-1:P),G=1.27323954*P+.405284735*P*P*(0>P?1:-1),G=.225*((0>G?-1:1)*G*G-G)+G;break;case 3:G=te[Math.abs(32*J/k|0)]}d&&(K=H,S*=x,0>S?S=0:S>.1&&(S=.1),R?(Z+=(G-H)*S,Z*=F):(H=G,Z=0),H+=Z,X+=H-K,X*=1-h,G=X),g&&($[Q%1024]=G,G+=$[(Q-O+1024)%1024],Q++),I+=G}I*=.125*q*A,t[ee]=I>=1?32767:-1>=I?-32768:32767*I|0}return u}}function o(t,e){if(!(0>=e)){var o=new Audio;o.src=t,o.volume=e||1,o.play()}}function r(t){return Math.pow(g(80,10,n(t,c(s()))),2)}function a(t){return t[~~(Math.random()*t.length)]}function n(t,e){var o=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(o*o+r*r)}function f(t,e){for(var o=0;o<t.length;o+=4)e[o/4]=~~(.5+9*t[o]/256)}function i(t,e,o){return Math.max(t,Math.min(o,e))}function c(t){return[(re[0]+t[0])/Re,(re[1]+t[1])/Re]}function v(t){re=[i(-oe[0]/2,oe[0]/2+Re*se[0]-oe[0],t[0]),i(-oe[1]/2,Re*se[1]-oe[1]/2,t[1])]}function l(t){return[t.clientX*oe[0]/ee[0],oe[1]-t.clientY*oe[1]/ee[1]]}function b(){camStart=ae=ne=fe=0,H.style.cursor=J?"default":"pointer"}function m(t){var e=8*Re,o=oe[1]/2-14*Re-e/2;if(o-5<t[1]&&t[1]<o+e+5){var r=8*Re+8,a=(oe[0]-4*r)/2,n=~~((t[0]-a)/r);if(n>=0&&4>n)return n}return-1}function u(t){return n(s(),t)<8*Re}function s(){return[oe[0]/2,oe[1]/2]}function d(){var t=Ue[32];t&&!J&&U(),J&&!Q&&(t&&(Te=1),Ue[87]||Ue[90]?Ne=0:Ue[88]?Ne=1:Ue[67]?Ne=2:Ue[86]&&(Ne=3),Te||!ae||ne||(Te=1),ie=c(s()))}function h(){var t=6,e=Ue[39]-Ue[37],o=Ue[38]-Ue[40],r=e+"_"+o;r!=Me&&(Me=r,We=Date.now()),Ae=[t*e,t*o]}function E(t){return 1==t||4==t||5==t}function S(t,e){var o=this;o.p=t,o.t=e||[],o.v=[0,0],o.T=o.dt=0}function x(t,e,o){var r=~~(t.p[0]-Oe)+e-xe;if(0>r||r>=se[0])return 1;var a=~~(t.p[1]-Pe)+o;return 0>a||a>=se[1]?1:Se[r+a*se[0]]}function R(t){function e(e){var o,r,a,n,f=[],i=[];for(r=Oe,a=Pe;r>=0&&Ke>r;r+=e){for(a==ke&&a--,-1==a&&a++;ke>a&&E(x(t,r,a));)a++;if(ke>a)for(;a>=0&&!E(x(t,r,a));)a--;i.push(a)}var c=0;for(n=0,r=Oe,o=1;r>=0&&Ke>r;r+=e,++n){var v,l,b,m=i[n],u=x(t,r,Pe),s=[0,0,0,0,0,0,0,0,0],d=[0,0,0,0,0,0,0,0,0],h=new Uint8Array(ke);for(a=0;ke>a;++a)h[a]=x(t,r,a);for(b=((Oe-1>n?i[n+1]:m)+(Oe-2>n?i[n+2]:m))/2-m,v=m+1;ke>v&&!E(h[v]);v++);for(l=v-m-1,(4>l||-4>b||b>4)&&(o=0),a=m;v>=a;++a)s[h[a]]++;for(a=0;ke>a;++a)d[h[a]]++;f.push({f:m,c:v,h:l,s:b,e:s,v:d,a:o,l:u}),o&&c++}return f.a=c,f}var o=me+"_"+~~t.p[0]+"_"+~~t.p[1];t.h!=o&&(t.h=o,t.sl=e(-1),t.sr=e(1))}function A(t,e){t.d=1+e,t.T=Date.now(),o(Y[e],r(t.p)),o(a(q))}function D(t,e){if(!(t.d>0)){R(t);var n,f,i,c=t.sl[0],v=c.f,l=Pe-(v+1);if(c.e[2])for(f=0;5>=f;++f)if(2==x(t,Oe,Pe+f)){A(t,2);break}if(!l&&t.v[1]<-3)return A(t,0);if(l){if(v>Pe&&-5>l){var b=0,m=0;for(i=0;5>i;++i)b==i&&E(t.sl[i].l)&&b++,m==i&&E(t.sr[i].l)&&m++;if(5!=b)t.p[0]-=b,t.v[0]>0&&(t.v[0]*=-.5);else{if(5==m)return A(t,1);t.p[0]+=b,t.v[0]<0&&(t.v[0]*=-.5)}}l>0?t.v[1]-=.12:(t.p[1]-=l,t.v=[0,0])}else t.v[1]=0,t.p[1]=~~t.p[1];if(t.p[1]<0)return A(t,0);R(t);var u=Date.now();if(!t.d&&(0==t.t.length||"n"!=t.t[0]&&u>t.dt)){u>t.dt&&(t.t=[]),t.dt=u+500+500*Math.random();var s,d=0,h=Oe;for(i=0;h>i;++i){if(t.sl[i]&&t.sl[i].e[3]){d=-1,s=i;break}if(t.sr[i]&&t.sr[i].e[3]){d=1,s=i;break}}var S,D=0,T=Oe;for(i=0;T>i;++i){if(t.sl[i]&&t.sl[i].v[2]){D=-1,S=i;break}if(t.sr[i]&&t.sr[i].v[2]){D=1,S=i;break}}var N,p,C,y=[e[0]-t.p[0],e[1]-t.p[1]],M=0;for(i=0;Oe>i;++i){var U=t.sr[i];if(!U.a){U.s<-3&&(M=1,p=[i,U.f]);break}}if(M)for(i=p[0]+2;Oe>i;++i){var U=t.sr[i],W=U.f-p[1];if(-1!=U.f&&W>=-8&&5>=W){U.h>=4&&(N=1,C=[i,U.f]);break}}n=~~t.p[0],f=~~t.p[1];var w=[];if((0>D||!D&&Math.random()<.5)&&M&&N){var L=.1+.09*(C[0]-p[0]),_=1;w=["r",.7,n+p[0]-1,"j",L,_,"n",500,0]}else if(D)w=["r",-1*D,n+(0>D?30:-30)+10*(.5-Math.random()),"w",-.5*D,n+(0>D?50:-50)+10*(.5-Math.random())];else{var U=Math.random(),F=d&&8>s,K=F&&Math.random()<.7?d:Math.random()<.1?t.sr.a-t.sl.a:Math.random()<.1&&Math.abs(y[0])>80?y[0]:1;w=.9>U||F?["w",(K>=0?1:-1)*(.4-(F?.3*g(8,0,s):0)),n+(K>=0?t.sr.a-1:-t.sl.a+1)]:["n",800,0]}t.t=t.t.concat(w)}if(0==l){var i,k=1;for(i=0;i<t.t.length&&k;i+=3){k=0;var O=t.t[i],P=t.t[i+1],G=t.t[i+2];if("n"==O&&(G||(G=t.t[i+2]=Date.now()+P),Date.now()>G&&(k=1)),"w"==O||"r"==O){var I=0>P?t.sl:t.sr;!I[0].a||P>0&&G<=t.p[0]||0>P&&G>=t.p[0]?(t.v[0]=0,k=1):t.v[0]=P}"j"==O&&(k=1,t.p[1]++,t.v=[P,G],o(a(B),.3*Math.random()+.7*r(t.p)))}k||(i-=3),i>0&&t.t.splice(0,i)}R(t);var Y=[].concat(t.v),q=t.sl[0].e;if(Y[0]){var X=[0,0],Z=1,H=q[7]-q[6];H>3&&(X[0]+=.1),3>H&&(X[0]-=.1),0==l&&(Z*=1+g(0,3,q[8]),Z*=1-.2*g(0,3,q[3])),Y[0]+=X[0],Y[1]+=X[1],Y[0]*=Z,Y[1]*=Z}Y[0]&&Math.random()<.04&&o(a(j),.3*Math.random()+.7*r(t.p));var J=[t.p[0]+Y[0],t.p[1]+Y[1]];if(0==l){var Q=~~J[0]-~~t.p[0];if(Q){var c=Q>0?t.sr:t.sl;Q=Math.abs(Q),c[Q]&&c[Q].a&&(t.p=J)}else t.p=J}else t.p=J}}function g(t,e,o){return Math.max(0,Math.min((o-t)/(e-t),1))}function T(t,e,o){t[e]=~~(256*o/9),t[e+3]=1}function N(t){function e(t,e,o){return e>=0&&s>e&&o>=0&&d>o?t[e+o*s]:o>50?1:0}function o(t,e,o,r){e>=0&&s>e&&o>=0&&d>o&&(t[e+o*s]=r)}function r(t,o,a){if(a--&&!(p<=C.length)){var n=~~(t+(o-t)/2),i=0;for(f=~~(he-.5*Math.random()*(he-de));f>de;f--){var c=e(Se,n,f);if(i>6&&c){C.push([xe+n,f+1]);break}i=c?0:i+1}Math.random()<.5?(r(t,n,a),r(n,o,a)):(r(n,o,a),r(t,n,a))}}var a=!go;go=1;var n,f,i,c,v,l=a?0:.08*Math.random()*Math.random(),b=a?0:100*Math.random()*Math.random(),m=Math.random()<.3?24*Math.random()*Math.random():0,u=Math.random()<-.1*m+.4?16*Math.random()*Math.random():0,s=se[0],d=se[1],h=26;for(n=t;n<se[0];++n)for(f=0;f<se[1];++f)v=t&&t>=n?E(e(Se,t-1,f))?1:0:+(Math.random()>-.25*(1-g(0,100,f/2+n+xe))+.09+l+.3*(g(0,25,f)+g(se[1]-50-b,se[1]-2-.2*b,f))),o(Se,n,f,v);var x=new Uint8Array(Se),R=Se;for(c=0;h>c;++c){for(n=t;n<se[0];++n)for(f=0;f<se[1];++f){var A=e(R,n,f),D=.1*A+(.9+.1*Math.random())*!!e(R,n-1,f-1)+(.9+.1*Math.random())*!!e(R,n,f-1)+(.9+.1*Math.random())*!!e(R,n+1,f-1)+(1.4+.2*Math.random())*!!e(R,n-1,f)+(1.1+.2*Math.random())*!!e(R,n+1,f)+(1.6-.1*Math.random())*!!e(R,n-1,f+1)+(1.2-.2*Math.random())*!!e(R,n,f+1)+(1-.1*Math.random())*!!e(R,n+1,f+1),v=+(D<=6+(Math.random()-.5)*(1-c/h));v&&D>=6-Math.random()*m+4*g(110,0,f)&&(v=5),v&&D>=6-Math.random()*u+6*g(20,60,f)&&(v=4),o(x,n,f,v)}var N=x;x=R,R=N}for(x===R&&(Se=x),i=0;i<Se.length;++i)T(Ee,4*i,Se[i]);var p,C=[];a&&(p=8,r(50,128,8),ge=C,C=[],t+=128),p=a?5:Math.min(-1-4*Math.random()+6*Math.random()*Math.random(),30-Ce.length),r(t+1,se[0]-1,6);for(var i=0;i<C.length;++i){var y=new S(C[i]);y.d=-1,Ce.push(y)}Ge.texImage2D(Ge.TEXTURE_2D,0,Ge.RGBA,se[0],se[1],0,Ge.RGBA,Ge.UNSIGNED_BYTE,Ee)}function p(t,e){for(var o=xe+t,r=[e-t,se[1]],a=new Uint8Array(r[0]*r[1]*4),n=new Uint8Array(r[0]*r[1]),f=se[0]-t,i=0;i<r[0]&&t+i<se[0];++i)for(var c=0;c<r[1];++c){var v=Se[t+i+c*se[0]],l=i+c*r[0];n[l]=v}xe=o,se=r,Ee=a,Se=n,N(f),re[0]-=t*Re,camStart&&(camStart[0]-=t*Re)}function C(){for(var t=[],e=0;e<Ce.length;++e)Ce[e].d||t.push(Ce[e]);var o,r;if(0==t.length)o=xe+re[0]/Re,r=xe+(re[0]+oe[0])/Re;else{o=t[0].p[0],r=o;for(var e=0;e<t.length;++e){var a=t[e];o=Math.min(a.p[0],o),r=Math.max(a.p[0],r)}}var n=Math.max(xe,ue*~~(o/ue-2)),f=Math.max(xe+se[0],ue*~~(r/ue+2)),i=Math.max(0,n-xe),c=Math.max(se[0],i+(f-n));return i||c-i-se[0]?(p(i,c),1):void 0}function y(){V=0;for(var t=0;t<ge.length;++t){var e=new S(ge[t],["n",3e3+3e3*Math.random(),0]);Ce.push(e)}}function M(){o(Z),localStorage.ibex=Math.max(V,localStorage.ibex||0),setTimeout(function(){onclick=location.reload.bind(location)},2e3)}function U(){J=1,y(),Ae[1]=-4;var t=Date.now();!function e(){Date.now()-t>4e3||re[1]<0?(Ae[1]=0,be=le):setTimeout(e,0)}()}function W(){var t=Date.now(),e=t-Co>=300;!e&&35>t-po||(po=t,Ge.useProgram(Do),Ge.uniform2fv(uo,se),Ge.uniform1f(vo,le),Ge.uniform1f(lo,xe),Ge.uniform1f(bo,be),Ge.uniform1i(co,J),Ge.uniform1i(so,Te),Te&&(Te=0,Ge.uniform2iv(ho,ie),Ge.uniform1f(So,pe),Ge.uniform1i(Eo,Ne)),Ge.bindBuffer(Ge.ARRAY_BUFFER,Ie),Ge.vertexAttribPointer(xo,2,Ge.FLOAT,Ge.FALSE,0,0),Ge.bindFramebuffer(Ge.FRAMEBUFFER,Ao),Ge.drawArrays(Ge.TRIANGLES,0,6),e&&(Co=t,Ge.readPixels(0,0,se[0],se[1],Ge.RGBA,Ge.UNSIGNED_BYTE,Ee),f(Ee,Se),C()&&(Ge.readPixels(0,0,se[0],se[1],Ge.RGBA,Ge.UNSIGNED_BYTE,Ee),f(Ee,Se)),me++),Ge.bindFramebuffer(Ge.FRAMEBUFFER,null),le++)}function w(){requestAnimationFrame(w),d();var t=Te;W();var e=[0,0];for(f=0;f<Ce.length;f++){var r=Ce[f];if(r.d){if(r.d<0)for(k=0;k<Ce.length;k++){var a=Ce[k];if(!a.d&&n(r.p,a.p)<16){r.d=0,z++,o(X);break}}}else e[0]+=r.p[0],e[1]+=r.p[1]}e[0]/=Ce.length,e[1]/=Ce.length,ce=0,ve=0;for(var f=0;f<Ce.length;){var i=Ce[f];D(i,e),i.d?i.d<0&&ve++:(V=Math.max(V,~~i.p[0]+500*z),ce++),i.d<0&&i.p[0]<xe||i.d>0&&Date.now()-i.T>3e3?Ce.splice(f,1):++f}$+=.01*(V-$),J&&!ce&&(Q||M(),Ae[0]=1,Q=1,$=V);var c=t?.5:1;c*=g(0,120,Date.now()-We);var l=c*Ae[0],b=c*Ae[1];camStart&&(camStart[0]+=l,camStart[1]+=b),v([re[0]+l,re[1]+b]);for(var m=[],f=0;f<Ce.length;++f){var i=Ce[f],u=i.v[0]>0?i.sl:i.sr,s=u[0].f+1==Pe&&u[3].a?u[0].f-u[3].f:0;m.push(i.p[0]-xe,i.p[1],i.v[0],i.v[1],i.d||0,i.d>0?(Date.now()-i.T)/999:0,s)}var h=(Date.now()-No)/999;Ge.useProgram(fo),Ge.uniform2fv(ao,oe),Ge.uniform2fv(ze,se),Ge.uniform1f(Be,h),Ge.uniform1f(je,ce),Ge.uniform1f(qe,Q?z:ve),Ge.uniform1f(Xe,Re),Ge.uniform2fv(oo,re),Ge.uniform1i(ro,t),Ge.uniform1i(Ze,J),Ge.uniform1i(He,Q),Ge.uniform1f(Je,$),m.length&&Ge.uniform1fv(Ve,m),Ge.uniform1i($e,Ce.length),Ge.uniform1i(eo,Ne),Ge.bindBuffer(Ge.ARRAY_BUFFER,Ie),Ge.vertexAttribPointer(Ye,2,Ge.FLOAT,!1,0,0),Ge.drawArrays(Ge.TRIANGLES,0,6)}var L=new e;window.jsfxr=function(t){L._params.setSettings(t);var e=L.totalReset(),o=new Uint8Array(4*((e+1)/2|0)+44),r=2*L.synthWave(new Uint16Array(o.buffer,44),e),a=new Uint32Array(o.buffer,0,44);a[0]=1179011410,a[1]=r+36,a[2]=1163280727,a[3]=544501094,a[4]=16,a[5]=65537,a[6]=44100,a[7]=88200,a[8]=1048578,a[9]=1635017060,a[10]=r,r+=44;for(var n=0,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="data:audio/wav;base64,";r>n;n+=3){var c=o[n]<<16|o[n+1]<<8|o[n+2];i+=f[c>>18]+f[c>>12&63]+f[c>>6&63]+f[63&c]}return i};var _,F,K,k,O="precision highp float;uniform vec2 WS;uniform vec2 RES;uniform float ZM;uniform vec2 CM;uniform bool DR;uniform bool ST;uniform bool GO;uniform float score;uniform float time;uniform sampler2D state;uniform float AN[7*30];uniform int AL;uniform float alive;uniform float TR;uniform sampler2D tiles;uniform int DO;vec3 a=vec3(0.11,0.16,0.23);vec3 b=vec3(0.74,0.66,0.51);vec3 c=vec3(0.84,0.17,0.08);vec3 d=vec3(0.40,0.75,0.90);vec3 e=vec3(0.60,0.00,0.00);vec3 f=vec3(0.30,0.60,0.70);vec3 g=vec3(0.15,0.20,0.27);vec3 h=vec3(0.07,0.12,0.19);vec3 i=vec3(0.20,0.60,0.20);vec3 j(int k){if(k==0) return a;if(k==1) return b;if(k==2) return c;if(k==3) return d;if(k==4) return e;if(k==5) return f;if(k==6) return g;if(k==7) return h;return i;}float l(vec2 m){return fract(sin(dot(m.xy,vec2(12.9898,78.233)))*43758.5453);}bool n(float o,float p,float q){return p<=o&&o<=q;}bool n(vec2 o,vec2 p,vec2 q){return p.x<=o.x&&o.x<=q.x&&p.y<=o.y&&o.y<=q.y;}float r=31599.0;float s=9362.0;float t=29671.0;float u=29391.0;float v=23497.0;float w=31183.0;float x=31215.0;float y=29257.0;float z=31727.0;float A=31695.0;float B(float C,float q){C=floor(C);q=floor(q);q=floor(C/pow(2.,q));return float(mod(q,2.)==1.);}float D(float C,float E,float F,vec2 o){float G=float(all(lessThan(o,vec2(E,F)))&&all(greaterThanEqual(o,vec2(0,0))));return B(C,(2.0-o.x)+3.0*o.y)*G;}float H(float I,vec2 o){I=mod(floor(I),10.0);if(I==0.0) return D(r,3.,5.,o);if(I==1.0) return D(s,3.,5.,o);if(I==2.0) return D(t,3.,5.,o);if(I==3.0) return D(u,3.,5.,o);if(I==4.0) return D(v,3.,5.,o);if(I==5.0) return D(w,3.,5.,o);if(I==6.0) return D(x,3.,5.,o);if(I==7.0) return D(y,3.,5.,o);if(I==8.0) return D(z,3.,5.,o);if(I==9.0) return D(A,3.,5.,o);return 0.0;}float J(float C,vec2 o){float K=0.;vec2 L=vec2(1,1);K+=H(C/100000.,floor(o-L));L.x+=4.;K+=H(C/10000.,floor(o-L));L.x+=4.;K+=H(C/1000.,floor(o-L));L.x+=4.;K+=H(C/100.,floor(o-L));L.x+=4.;K+=H(C/10.,floor(o-L));L.x+=4.;K+=H(C,floor(o-L));return K;}float M(float C,vec2 o){float K=0.;vec2 L=vec2(-8,-6);K+=H(C/10.,floor(o-L));L.x+=4.;K+=H(C,floor(o-L));return K;}vec4 N(vec2 o,vec2 O,vec2 P,float Q,float R,float S,float T){vec2 U=Q>0.0?(1.0+P-mix(vec2(0.0),P,pow(smoothstep(0.0,0.5,R),0.3)))+vec2(l(gl_FragCoord.xy+time*0.03)-0.5,l(gl_FragCoord.xy+time*0.1)-0.5)*mix(1.,8.,pow(smoothstep(1.0,6.0,R),0.6)):vec2(0.0);float V=step(0.5,fract(time/2.0));float W=abs(P.x)<0.1?(Q<0.0?5.0+V:0.0):1.0+floor(mod(O.x/(2.0*T),4.0));O=(U+o-O)/T;if(P.x>=0.0) O.x=-O.x;float X=clamp(S,-2.,2.)*smoothstep(0.0,4.0,O.x);O+=vec2(3.5,X);O/=8.0;vec4 Y=vec4(0.0);if(n(O,vec2(0.0),vec2(1.0))){Y+=texture2D(tiles,mix(vec2(0.0,(1.0+W)/8.0),vec2(1.0,W/8.0),O));}if(Q<0.0){W=7.0;vec2 Z=O*(V+1.5)+vec2(0.8,-1.0);if(n(Z,vec2(0.0),vec2(1.0))){Y+=vec4(vec3(1.0),0.7+0.3*V)*texture2D(tiles,mix(vec2(1.0,(1.0+W)/8.0),vec2(0.0,W/8.0),Z));}}return Q>0.0?vec4(vec3(0.3+1.2*length(Y.rgb),0.2,0.1),smoothstep(3.0,1.5,R)*Y.a):Y;}vec2 ba(float bb,float bc,float bd){return bb*vec2(cos(bd*1.1*time+bc*0.9*gl_FragCoord.x+0.5),sin(bd*time+bc*gl_FragCoord.y+0.1));}int be(vec2 O){vec2 bf=(floor(O)+0.5)/WS;bool bg=bf.x<0.0||bf.x>1.0||bf.y<0.0||bf.y>1.0;if(bg) return O.y<0.0?1:0;float bh=texture2D(state,bf).r;return int(floor(.5+9.*bh));}vec3 bi(int k,vec2 O){return (mix(1.0,l(O),0.05*float(k==1)+0.2*float(k==8))+float(k==8)*(step(0.97,l(O))*vec3(3.0,0.0,0.0)+step(l(O),0.02)*vec3(1.5,-0.5,0.5)))*j(k);}bool bj(vec2 o,vec2 O,float T){o=(o-O)/T;return 0.0<o.y&&o.y<1.0&&(0.8<o.x&&o.x<1.0||1.2<o.x&&o.x<1.4||1.2<o.x&&o.x<2.0&&0.0<o.y&&o.y<0.2||1.2<o.x&&o.x<2.0&&0.4<o.y&&o.y<0.6||1.2<o.x&&o.x<1.8&&0.8<o.y&&o.y<1.0||1.6<o.x&&o.x<1.8&&0.6<o.y&&o.y<1.0||1.8<o.x&&o.x<2.0&&0.0<o.y&&o.y<0.4||2.2<o.x&&o.x<2.4||2.2<o.x&&o.x<3.0&&0.0<o.y&&o.y<0.2||2.2<o.x&&o.x<2.8&&0.4<o.y&&o.y<0.6||2.2<o.x&&o.x<3.0&&0.8<o.y&&o.y<1.0||3.2<o.x&&o.x<3.4&&!(0.4<o.y&&o.y<0.6)||3.6<o.x&&o.x<3.8&&!(0.4<o.y&&o.y<0.6)||3.4<o.x&&o.x<3.6&&0.4<o.y&&o.y<0.6);}vec2 bk=RES/vec2(2.0,2.0);vec4 bl(vec2 o,vec3 Y){float bm=6.*ZM;float bn=distance(o,bk);vec3 K=j(DO);vec3 bo=1.2*(0.1+K);if(bn<bm-4.0){return vec4(1.2*mix(Y*bo,K,0.6-0.3*float(DR)),1.0);}else if(bn<bm){return vec4(bo-0.6*Y,1.0);}return vec4(0.0);}vec4 bp(vec2 o,vec3 Y){float bm=4.*ZM;float bq=8.;float S=2.*bm+bq;vec2 br=bk-vec2(0.0,14.0*ZM);vec2 T=vec2(8.*bm+3.*bq,2.*bm);o=o-br+T/2.0;if(o.x<0.0||o.x>T.x||o.y<0.0||o.y>T.y) return vec4(0.0);float bs=floor(o.x/S);float Q=float(int(bs)==DO);br=vec2(S*bs,0.0)+vec2(bm);float bn=distance(o,br);vec3 K=j(int(bs));K=1.1*(K+mix(0.0,0.1,Q))+0.4*K;if(bn<bm*mix(0.6,1.0,Q)){return vec4(K,0.5);}return vec4(0.0);}vec4 G(vec2 bt,vec2 bu){float bv=min(bt.x,bu.x);float bw=max(bt.x,bu.x);float bx=min(bt.y,bu.y);float by=max(bt.y,bu.y);return vec4(bv,bx,bw,by);}bool bz(vec2 o,vec2 p,vec2 q){return p.x<=o.x&&o.x<=q.x&&p.y<=o.y&&o.y<=q.y;}float bA(vec2 o,float bB,vec2 p,vec2 q){return float(bz(o,p,q)&&!bz(o,p+bB,q-bB));}vec4 bC(vec2 o,vec2 bt,vec2 bu){vec4 bD=G(bt,bu);bt=bD.xy;bu=bD.zw;if(!bz(o,bt,bu)) return vec4(0.0);vec2 bE=bu-bt;vec2 bf=(o-bt)/bE;vec2 bF=WS*bf;int k=be(bF);vec3 bG=j(k);vec2 bH=WS*ZM;vec4 bI=G(bE*CM/bH,bE*(CM+RES)/bH);vec2 bJ=bt+bI.xy;vec2 bK=bt+bI.zw;float bL=0.0;float bM=0.0;float bN=0.0;for(int bs=0;bs<30;++bs){if(bs>=AL) break;float bn=distance(vec2(AN[7*bs+0],AN[7*bs+1]),bF);float bO=AN[7*bs+4];if(bO<0.0) bM+=float(bn<=6.0);else if(bO==0.0) bL+=float(bn<=4.0);else bN+=float(bn<=4.0);}vec4 bP=vec4(mix(a,1.2*(0.1+bG.rgb),0.7),1.0);vec4 bQ=float(bM>0.0)*vec4(0.2,1.0,0.2,1.0)+float(bN>0.0)*vec4(1.0,0.2,0.1,1.0)+float(bL>0.0)*vec4(1.0,1.0,0.3,1.0)+bA(o,2.0,bt,bu)+bA(o,1.0,bJ,bK);vec4 K=mix(bP,bQ,bQ.a);return vec4(K.rgb,K.a*0.8);}float bR(float bn,float bS,float bT,float bU){return 1.0/(bS+bT*bn+bU*bn*bn);}void main(){vec2 o=gl_FragCoord.xy;vec2 U=vec2(0.0);bool bV=false;float S;vec2 bW;vec2 bX;vec4 Y;if(!ST||GO){if(GO){S=64.0;bW=vec2((RES.x-4.0*S)/2.0,RES.y-S*1.4);}else{S=140.0;bW=(RES-vec2(4.4*S,S))/2.0;}bX=vec2(3.0*S,1.6*S);if(bj(o,bW,S)){bV=true;}}if(bV){U+=ba(1.0,0.1,2.0);}float bY=0.0;if(ST&&!GO){bY=bl(o,vec3(0.0)).a;if(bY>0.){U+=ba(1.6,0.08,3.0);}}vec2 bF=(o+U+CM)/ZM;vec2 bZ=floor(bF);vec3 ca=bi(be(bZ),bZ);vec2 cb=fract(bF);vec3 K=ca;vec3 cc=vec3(0.02)*vec3(l(ZM*floor(o/ZM)+time/31.0),l(ZM*floor(o/ZM)+time/80.1),l(ZM*floor(o/ZM)+time/13.2));vec3 cd=-vec3(0.03)*(cb.x-cb.y);vec4 ce=vec4(0.0);float cf=bR(distance(bk,o),0.00001,0.003,0.00001);for(int bs=0;bs<30;++bs){if(bs>=AL) break;vec2 cg=vec2(AN[7*bs+0],AN[7*bs+1]);float R=AN[7*bs+5];float Q=AN[7*bs+4];vec4 K=N(bF,cg,vec2(AN[7*bs+2],AN[7*bs+3]),Q,R,AN[7*bs+6],1.0);float bn=distance(cg,bF);cf+=smoothstep(2.0,0.0,R)*bR(distance(cg,bF),0.0,0.05,0.001);ce=mix(ce,K,K.a);}vec3 ch=K+cc+cd;K=ce.a==0.0?ch:mix(ch,ce.rgb,min(1.0,ce.a));K=mix(a,K,min(1.0,cf)*smoothstep(WS.x,WS.x-100.0,bF.x)*smoothstep(0.0,50.0,bF.x));if(bY>0.0){Y=bl(o,K);K=mix(K.rgb,Y.rgb,Y.a);}if(!ST||GO){if(bV){K=1.4*(0.4+0.8*K);}else if(bj(gl_FragCoord.xy,bW+vec2(8.0,-8.0),S)){K=vec3(0.0);}}vec2 ci=o;if(GO){ci-=(RES-RES/vec2(6.0,36.0))/2.;}if(J(score,(ci/RES)*128.*vec2(1,RES.y/RES.x))>0.0){K=mix(vec3(1.0,0.5,0.3),vec3(1.0,0.3,1.0),float(!ST))+0.3*(1.0-K);}float cj=150.0;float ck=0.015*RES.x;vec2 cl=o-RES+vec2(4.0*ck,2.5);if(!GO&&ST){Y=bp(o,K);K=mix(K.rgb,Y.rgb,Y.a);Y=N(o,RES-vec2(2.0,3.0)*ck,vec2(0.0),0.0,0.0,0.0,0.3*ck);K=mix(K,Y.rgb+0.2-0.3*K,Y.a);if(M(alive,(cl/RES)*cj*vec2(1,RES.y/RES.x))>0.0){K=0.5+0.5*(1.0-K);}}if(ST){if(GO||TR>0.0){cl+=vec2(0.0,4.0*ck);Y=N(o,RES-vec2(2.0,7.0)*ck,vec2(0.0),-1.0,0.0,0.0,0.3*ck);K=mix(K,Y.rgb+0.2-0.3*K,Y.a);if(M(TR,(cl/RES)*cj*vec2(1,RES.y/RES.x))>0.0){K=vec3(0.0,1.0,0.0)+0.5*(1.0-K);}}}if(!GO&&ST){vec2 bE=vec2(RES.y/6.0)*vec2(WS.x/WS.y,1.0);vec2 cm=vec2(10.0,RES.y-10.0);Y=bC(o,cm,cm+bE*vec2(1.0,-1.0));K=mix(K,Y.rgb,Y.a);}gl_FragColor=vec4(K,1.0);}",P="attribute vec2 P;void main(){gl_Position=vec4(2.0*P-1.0,0.0,1.0);}",G="\n#define RAND (S_=vec2(rand(S_), rand(S_+9.))).x\n\n#define AnyADJ(e) (NW==e||SE==e||NE==e||SW==e||NN==e||SS==e||EE==e||WW==e)\nprecision highp float;int a=0;int b=1;int c=2;int d=3;int e=4;int f=5;int g=6;int h=7;int i=8;uniform vec2 SZ;uniform float SD;uniform float TI;uniform float TS;uniform float ST;uniform sampler2D state;uniform bool RU;uniform bool draw;uniform ivec2 DP;uniform float DR;uniform int DO;int j(int k,int l){vec2 m=(gl_FragCoord.xy+vec2(k,l))/SZ;return (m.x<0.0||m.x>=1.0||m.y<0.0||m.y>=1.0)?0:int(floor(.5+9.*texture2D(state,m).r));}bool n(float o,float p,float q){return p<=o&&o<=q;}float rand(vec2 r){return fract(sin(dot(r.xy,vec2(12.9898,78.233)))*43758.5453);}float s(vec2 t){return mix(rand(vec2(t.x)),0.5*(1.0+(cos(sin(t.y*0.01+t.x*0.05)+(1.0+0.3*sin(t.x*0.01))*t.y*0.08))),0.6);}bool u(vec2 t){if(TS==0.0) return false;float v=800.0;float w=70.0;float x=5.0;float y=TI-TS-v;float z=floor(y/w);float A=(y-z*w);return distance(vec2(2.0*(x*z-ST),x*A),t)<=x;}void main(){vec2 t=gl_FragCoord.xy;vec2 S_=t+0.001*TI;int NW=j(-1,1);int NN=j(0,1);int NE=j(1,1);int WW=j(-1,0);int CC=j(0,0);int EE=j(1,0);int SW=j(-1,-1);int SS=j(0,-1);int SE=j(1,-1);bool B=CC==b||CC==i||CC==e||CC==f;int C=a;int D=int(20.0*pow(s(t),1.3));float E=mod(TI,300.0);float F=mod(TI,25.0);if(-0.05*float(NW==d)+-0.40*float(NN==d)+-0.05*float(NE==d)+-0.50*float(WW==d)+-0.50*float(CC==d)+-0.50*float(EE==d)+0.35*float(SW==c)+0.90*float(SS==c)+0.35*float(SE==c)>=0.9-0.6*RAND||CC==c&&RAND<0.9&&AnyADJ(i)){C=c;}if(n(0.3*float(NW==d)+0.9*float(NN==d)+0.3*float(NE==d)+0.1*float(WW==d)+-0.3*float(CC==c)+0.1*float(EE==d)+-0.3*float(SS==c),0.9-0.6*RAND,1.4+0.3*RAND)||!B&&RAND<0.98&&((WW==d||NW==d)&&SW==b||(EE==d||NE==d)&&SE==b)||!B&&t.y>=SZ.y-1.0&&E<100.0&&n(t.x-(rand(vec2(SD*0.7+TI-E))*SZ.x),0.0,100.0*rand(vec2(SD+TI-E)))||!B&&(0.9*float(NW==f)+1.0*float(NN==f)+0.9*float(NE==f)+0.7*float(WW==f)+0.7*float(EE==f)>=1.0-0.3*RAND)){C=d;}if(CC==b){if(!(WW==a&&EE==a)) C=b;if(RAND<0.3&&(1.0*float(NW==d)+1.2*float(NN==d)+1.0*float(NE==d)+0.5*float(WW==d)+0.5*float(EE==d)+0.3*float(SW==d)+0.2*float(SS==d)+0.3*float(SE==d)>=3.0-2.5*RAND)||RAND<0.01&&(WW==f||NN==f||EE==f)){C=f;}if(RAND<0.006+0.02*smoothstep(0.0,10000.0,ST+t.x)&&(0.3*float(NW==c)+0.2*float(SS==c)+0.3*float(NE==c)+0.5*float(WW==c)+0.5*float(EE==c)+1.0*float(SW==c)+1.2*float(NN==c)+1.0*float(SE==c)>=3.0-2.1*RAND)||RAND<0.01+0.02*smoothstep(500.0,5000.0,ST+t.x)&&(int(WW==e)+int(SS==e)+int(EE==e)+int(SE==e)+int(SW==e)>1)){C=e;}}if(D>0){if(CC==i){C=i;if(CC==i&&RAND<0.9&&(AnyADJ(c)||AnyADJ(e))){C=c;}}else if(!B&&(AnyADJ(b)||AnyADJ(i)||AnyADJ(f))){if(RAND<0.03&&j(0,-D)!=i&&(SS==i&&RAND<0.07||SS==b&&RAND<0.02||AnyADJ(d)||AnyADJ(f))){C=i;}}}if((!B||CC==c)&&SS==e){C=c;}if(CC==e){C=e;if(NW==d||NN==d||NE==d||EE==d||WW==d){C=RAND<0.8?f:b;}if(RAND<0.005&&(int(SW==c||SW==e)+int(SS==c||SS==e)+int(SE==c||SE==e)<2)){C=b;}if(int(NW==f)+int(SE==f)+int(NE==f)+int(SW==f)+int(NN==f)+int(SS==f)+int(EE==f)+int(WW==f)>1){C=RAND<0.2?e:(RAND<0.8?f:b);}}if(B&&t.y<=2.0&&F<=1.0&&RAND<0.3&&n(t.x-rand(vec2(SD*0.01+TI-F))*SZ.x,0.0,10.0*rand(vec2(SD*0.07+TI-F)))){C=e;}if(CC==f){C=f;if(RAND<0.06&&(int(NW==d||NW==f)+int(NN==d||NN==f)+int(NE==d||NE==f)<1)||(EE==c||WW==c||SS==c||SW==c||SE==c)){C=b;}if(AnyADJ(e)){C=RAND<0.15?e:(RAND<0.6?f:b);}}if(C==a){if(RAND<0.00001) C=g;if(RAND<0.00001) C=h;}int G=C==g?g:C==h?h:0;float o=(-0.1+0.05*(RAND-0.5))*float(NW==h)+0.12*float(NE==g)+-0.65*float(WW==h)+0.65*float(EE==g)+-0.1*float(SW==h)+(0.2+0.05*(RAND-0.5))*float(SE==g);if(n(o,0.4*RAND,0.95)){G=g;}else if(n(o,-0.95,-0.4*RAND)){G=h;}if(G!=0){if(C==a){C=G;}else if(C==c){if(RAND<0.4) C=G;}else if(C==d){if(RAND<0.1) C=G;}}if(draw){vec2 H=floor(t);if(distance(H,vec2(DP))<=DR){if(DO==d){if(B&&CC!=i){C=f;}else if(!B&&mod(H.x+H.y,2.0)==0.0){C=d;}}else if(DO==c){C=B?e:c;}else{C=DO;}}}if(u(t)){C=B?e:c;}if(!RU){if(C==c||C==d||C==i) C=a;if(C==e||C==f) C=b;}gl_FragColor=vec4(float(C)/9.0,0.0,0.0,1.0);}",I="attribute vec2 P;void main(){gl_Position=vec4(2.0*P-1.0,0.0,1.0);}",Y=[[3,,.45,.73,.5,.08,,.04,-.04,.15,.05,,,,,,.3799,.02,.08,,.35,.65,.08,.6],[3,.04,.34,.76,.62,.26,,-.04,-.14,.62,.35,,,.33,.28,,-.06,.3799,.13,-.0999,,.28,-.14,.2],[3,.35,.67,,.52,.12,,,,,,,,,,,.6799,,.25,-.04,,,-.0999,.2]].map(jsfxr),B=[],j=[],q=[];for(K=0;4>K;++K)q.push(jsfxr([1,.61,.36,.14,.75,.68,,-.16,-.02,.73,.12,-.0999,.32,Math.random()/2,.32,.22,.1999,-.02,.4,-.06,.18,.78,,.3])),B.push(jsfxr([0,.03,.3,.13,.2,.26+K/20,,.1399,,.02,.07,-.06,,.42,,,-.06,-.02,.34,.04,,.28,.06,.2])),j.push(jsfxr([3,.15+.1*Math.random(),.1749,,.22,.05+K/9,,-.16,,,,,,,,,,,.08,-.06,,.8,,.6]));var X=jsfxr([1,.16,.18,,.45,.23,,,.1,.37,.2,.58,.44,,,,,,.3,,.21,.15,.34,.3]),Z=jsfxr([0,.11,1,.22,.7,.61,,-.06,-.0799,.21,.28,-.04,.2,.56,-.4,,.28,-.54,.1,-.04,.52,.8,-.02,.8]),H=document.createElement("canvas"),J=0,Q=0,z=0,V=+(localStorage.ibex||0),$=V,te=new Image;te.src="t.png";var ee,oe,re,ae,ne,fe,ie,ce,ve,le=0,be=0,me=0,ue=128,se=[256,256],de=10,he=150,Ee=new Uint8Array(se[0]*se[1]*4),Se=new Uint8Array(se[0]*se[1]),xe=0,Re=4,Ae=[0,0],De=[0,0],ge=[],Te=0,Ne=0,pe=6,Ce=[];b(),H.addEventListener("mouseleave",b),H.addEventListener("mousedown",function(t){t.preventDefault(),J&&!Q&&(ae=l(t),ne=!u(ae),fe=m(ae),camStart=[].concat(re))}),H.addEventListener("mouseup",function(t){if(J||U(),J&&!Q){if(-1!=fe){var e=m(l(t));fe==e&&(Ne=fe)}b()}}),H.addEventListener("mousemove",function(t){if(J&&!Q){var e=m(De=l(t));if(H.style.cursor=ae?ne?"move":"none":u(De)||-1!=e?"pointer":"default",ae){var o=De[0]-ae[0],r=De[1]-ae[1];v(ne?[camStart[0]-o,camStart[1]-r]:[camStart[0]+o,camStart[1]+r])}}});var ye=0;onwheel=onmousewheel=function(t){var e=~~((ye+=t.deltaY)/100);Ne=(16+Ne+e)%4,ye-=100*e};var Me,Ue=new Uint8Array(200),We=Date.now();document.addEventListener("keyup",function(t){var e=t.which;Ue[e]=0,(e>=37&&40>=e||87==e||90==e||88==e||67==e||86==e)&&h()}),document.addEventListener("keydown",function(t){var e=t.which;Ue[e]=1,(e>=37&&40>=e||87==e||90==e||88==e||67==e||86==e)&&(t.preventDefault(),h())});var we,Le,_e,Fe,Ke=32,ke=18,Oe=Ke/2,Pe=ke/2,Ge=H.getContext("webgl")||H.getContext("experimental-webgl");Fe=Ge.createProgram(),Le=P,_e=Ge.VERTEX_SHADER,we=Ge.createShader(_e),Ge.shaderSource(we,Le),Ge.compileShader(we),Ge.attachShader(Fe,we),Le=O,_e=Ge.FRAGMENT_SHADER,we=Ge.createShader(_e),Ge.shaderSource(we,Le),Ge.compileShader(we),Ge.attachShader(Fe,we),Ge.linkProgram(Fe),Ge.useProgram(Fe);var Ie=Ge.createBuffer(),Ye=Ge.getAttribLocation(Fe,"P");Ge.enableVertexAttribArray(Ye),Ge.bindBuffer(Ge.ARRAY_BUFFER,Ie),Ge.vertexAttribPointer(Ye,2,Ge.FLOAT,!1,0,0),(onresize=function(){var t=[innerWidth,innerHeight];ee=t;var e=Math.min(t[0],512),o=~~(e*t[0]/t[1]);J||(re=[0,256*Re-e]),oe=[o,e],H.style.width=t[0]+"px",H.style.height=t[1]+"px",H.width=oe[0],H.height=oe[1],Ge.viewport(0,0,H.width,H.height);var r=0,a=0,n=oe[0],f=oe[1];Ge.bufferData(Ge.ARRAY_BUFFER,new Float32Array([r,a,n,a,r,f,r,f,n,a,n,f]),Ge.STATIC_DRAW),Ge.uniform2fv(ao,oe)})();var Be=Ge.getUniformLocation(Fe,"time"),je=Ge.getUniformLocation(Fe,"alive"),qe=Ge.getUniformLocation(Fe,"TR"),Xe=Ge.getUniformLocation(Fe,"ZM"),Ze=Ge.getUniformLocation(Fe,"ST"),He=Ge.getUniformLocation(Fe,"GO"),Je=Ge.getUniformLocation(Fe,"score"),Qe=Ge.getUniformLocation(Fe,"state"),ze=Ge.getUniformLocation(Fe,"WS"),Ve=Ge.getUniformLocation(Fe,"AN"),$e=Ge.getUniformLocation(Fe,"AL"),to=Ge.getUniformLocation(Fe,"tiles"),eo=Ge.getUniformLocation(Fe,"DO"),oo=Ge.getUniformLocation(Fe,"CM"),ro=Ge.getUniformLocation(Fe,"DR"),ao=Ge.getUniformLocation(Fe,"RES"),no=Ge.createTexture();te.onload=function(){Ge.useProgram(fo),Ge.activeTexture(Ge.TEXTURE1),Ge.bindTexture(Ge.TEXTURE_2D,no),Ge.texParameteri(Ge.TEXTURE_2D,Ge.TEXTURE_WRAP_S,Ge.CLAMP_TO_EDGE),Ge.texParameteri(Ge.TEXTURE_2D,Ge.TEXTURE_WRAP_T,Ge.CLAMP_TO_EDGE),Ge.texParameteri(Ge.TEXTURE_2D,Ge.TEXTURE_MIN_FILTER,Ge.NEAREST),Ge.texParameteri(Ge.TEXTURE_2D,Ge.TEXTURE_MAG_FILTER,Ge.NEAREST),Ge.texImage2D(Ge.TEXTURE_2D,0,Ge.RGBA,Ge.RGBA,Ge.UNSIGNED_BYTE,te),Ge.uniform1i(to,1),Ge.activeTexture(Ge.TEXTURE0)},Ge.uniform1i(Qe,0);var fo=Fe;Fe=Ge.createProgram(),Le=I,_e=Ge.VERTEX_SHADER,we=Ge.createShader(_e),Ge.shaderSource(we,Le),Ge.compileShader(we),Ge.attachShader(Fe,we),Le=G,_e=Ge.FRAGMENT_SHADER,we=Ge.createShader(_e),Ge.shaderSource(we,Le),Ge.compileShader(we),Ge.attachShader(Fe,we),Ge.linkProgram(Fe);var io=Ge.getUniformLocation(Fe,"SD"),co=Ge.getUniformLocation(Fe,"RU"),vo=Ge.getUniformLocation(Fe,"TI"),lo=Ge.getUniformLocation(Fe,"ST"),bo=Ge.getUniformLocation(Fe,"TS"),mo=Ge.getUniformLocation(Fe,"state"),uo=Ge.getUniformLocation(Fe,"SZ"),so=Ge.getUniformLocation(Fe,"draw"),ho=Ge.getUniformLocation(Fe,"DP"),Eo=Ge.getUniformLocation(Fe,"DO"),So=Ge.getUniformLocation(Fe,"DR"),xo=Ge.getAttribLocation(Fe,"P");Ge.enableVertexAttribArray(xo);var Ro=Ge.createTexture();Ge.activeTexture(Ge.TEXTURE0),Ge.bindTexture(Ge.TEXTURE_2D,Ro),Ge.texParameteri(Ge.TEXTURE_2D,Ge.TEXTURE_MIN_FILTER,Ge.LINEAR),Ge.texParameteri(Ge.TEXTURE_2D,Ge.TEXTURE_WRAP_S,Ge.CLAMP_TO_EDGE),Ge.texParameteri(Ge.TEXTURE_2D,Ge.TEXTURE_WRAP_T,Ge.CLAMP_TO_EDGE);var Ao=Ge.createFramebuffer();Ge.bindFramebuffer(Ge.FRAMEBUFFER,Ao),Ge.framebufferTexture2D(Ge.FRAMEBUFFER,Ge.COLOR_ATTACHMENT0,Ge.TEXTURE_2D,Ro,0),Ge.useProgram(Fe),Ge.uniform1f(io,Math.random()),Ge.uniform1i(mo,0);var Do=Fe,go=0;N(0);var To=new Uint8Array(100);for(_=0;100>_;++_)for(var F=se[1]-1;F>0;F--)if(E(Se[_+F*se[0]])){To[_]=F;break}var No=Date.now(),po=0,Co=0;document.body.innerHTML="",document.body.appendChild(H),w()},300);